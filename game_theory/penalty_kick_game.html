



<!DOCTYPE html>
<html lang="en">
  
  <head>
    
      <meta charset="utf-8">
      <title>Bokeh Plot</title>
      
      
        
          
        
        
          
        <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.2.3.min.js" integrity="sha384-T2yuo9Oe71Cz/I4X9Ac5+gpEa5a8PpJCDlqKYO0CfAuEszu1JrXLl8YugMqYe3sM" crossorigin="anonymous"></script>
        <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.2.3.min.js" integrity="sha384-98GDGJ0kOMCUMUePhksaQ/GYgB3+NH9h996V88sh3aOiUNX3N+fLXAtry6xctSZ6" crossorigin="anonymous"></script>
        <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.2.3.min.js" integrity="sha384-89bArO+nlbP3sgakeHjCo1JYxYR5wufVgA3IbUvDY+K7w4zyxJqssu7wVnfeKCq8" crossorigin="anonymous"></script>
        <script type="text/javascript">
            Bokeh.set_log_level("info");
        </script>
        
      
      
    
  </head>
  
  
  <body>
    
      
        
          
          
            
              <div class="bk-root" id="9ee00c29-8712-4bd6-bc11-7519c8d26991" data-root-id="1436"></div>
            
          
        
      
      
        <script type="application/json" id="2841">
          {"6dc16af1-ae0f-4873-b542-0af1066432b5":{"roots":{"references":[{"attributes":{"source":{"id":"1093"}},"id":"1095","type":"CDSView"},{"attributes":{"fill_color":{"value":"#64A580"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":1.5},"y":{"value":0}},"id":"1097","type":"Rect"},{"attributes":{},"id":"1346","type":"StringEditor"},{"attributes":{"fill_color":{"value":"#CBEBD9"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":4.5},"y":{"value":0}},"id":"1148","type":"Rect"},{"attributes":{},"id":"1336","type":"StringEditor"},{"attributes":{"fill_color":{"value":"#CBEBD9"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":2.5},"y":{"value":0}},"id":"1146","type":"Rect"},{"attributes":{"editor":{"id":"1356"},"field":"striker_score_roll","formatter":{"id":"1355"},"title":"Striker's Score Roll","width":103},"id":"1282","type":"TableColumn"},{"attributes":{"fill_color":{"value":"#64A580"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":4.5},"y":{"value":0}},"id":"1100","type":"Rect"},{"attributes":{"fill_color":{"value":"#64A580"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":2.5},"y":{"value":0}},"id":"1098","type":"Rect"},{"attributes":{"fill_color":{"value":"#CBEBD9"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":5.5},"y":{"value":0}},"id":"1149","type":"Rect"},{"attributes":{"text":"50","visible":false},"id":"1230","type":"Div"},{"attributes":{"text":"0","visible":false},"id":"1234","type":"Div"},{"attributes":{"fill_color":{"value":"#64A580"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":5.5},"y":{"value":0}},"id":"1101","type":"Rect"},{"attributes":{"source":{"id":"1275"}},"id":"1284","type":"CDSView"},{"attributes":{},"id":"1344","type":"StringEditor"},{"attributes":{"data":{},"selected":{"id":"1409"},"selection_policy":{"id":"1410"}},"id":"1150","type":"ColumnDataSource"},{"attributes":{"sizing_mode":"stretch_width","visible":false},"id":"1228","type":"Div"},{"attributes":{},"id":"1338","type":"StringEditor"},{"attributes":{"data":{},"selected":{"id":"1385"},"selection_policy":{"id":"1386"}},"id":"1102","type":"ColumnDataSource"},{"attributes":{},"id":"1345","type":"StringFormatter"},{"attributes":{"data":{},"selected":{"id":"1411"},"selection_policy":{"id":"1412"}},"id":"1153","type":"ColumnDataSource"},{"attributes":{"sizing_mode":"stretch_width","visible":false},"id":"1229","type":"Div"},{"attributes":{"data":{},"selected":{"id":"1387"},"selection_policy":{"id":"1388"}},"id":"1105","type":"ColumnDataSource"},{"attributes":{"data_source":{"id":"1150"},"glyph":{"id":"1144"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1152"}},"id":"1151","type":"GlyphRenderer"},{"attributes":{"button_type":"success","icon":null,"js_event_callbacks":{"button_click":[{"id":"1290"}]},"label":"Middle","sizing_mode":"scale_width","visible":false,"width_policy":"fit"},"id":"1261","type":"Button"},{"attributes":{},"id":"1343","type":"StringFormatter"},{"attributes":{"editor":{"id":"1352"},"field":"goalie_perceived_risks","formatter":{"id":"1351"},"title":"Goalie's Perceived Risks","width":130},"id":"1280","type":"TableColumn"},{"attributes":{"data_source":{"id":"1102"},"glyph":{"id":"1096"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1104"}},"id":"1103","type":"GlyphRenderer"},{"attributes":{"data":{"aim_direction":["Left","Middle","Right","Left","Middle","Right"],"decisions":[0,0,0,0,0,0],"footedness":["Left","Left","Left","Right","Right","Right"],"freq":[0,0,0,0,0,0],"goalie_perceived_risks":[0,0,0,0,0,0],"striker_score_chance":[0,0,0,0,0,0],"striker_score_roll":[0,0,0,0,0,0]},"selected":{"id":"1341"},"selection_policy":{"id":"1342"}},"id":"1275","type":"ColumnDataSource"},{"attributes":{"source":{"id":"1150"}},"id":"1152","type":"CDSView"},{"attributes":{"editor":{"id":"1354"},"field":"striker_score_chance","formatter":{"id":"1353"},"title":"Striker's Score Chance","width":120},"id":"1281","type":"TableColumn"},{"attributes":{"fill_color":{"value":"#64A580"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":3.5},"y":{"value":0}},"id":"1099","type":"Rect"},{"attributes":{"data":{},"selected":{"id":"1413"},"selection_policy":{"id":"1414"}},"id":"1156","type":"ColumnDataSource"},{"attributes":{"end":1,"format":"0[.]00","js_property_callbacks":{"change:value":[{"id":"1304"}]},"sizing_mode":"stretch_width","start":0,"step":0.01,"title":"LR Aim Weight","value":0.16666666666666666,"visible":false},"id":"1269","type":"Slider"},{"attributes":{"source":{"id":"1102"}},"id":"1104","type":"CDSView"},{"attributes":{"data_source":{"id":"1153"},"glyph":{"id":"1145"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1155"}},"id":"1154","type":"GlyphRenderer"},{"attributes":{"data":{},"selected":{"id":"1389"},"selection_policy":{"id":"1390"}},"id":"1108","type":"ColumnDataSource"},{"attributes":{"sizing_mode":"stretch_width","text":"0,0,0","visible":false},"id":"1226","type":"Div"},{"attributes":{"data_source":{"id":"1105"},"glyph":{"id":"1097"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1107"}},"id":"1106","type":"GlyphRenderer"},{"attributes":{"text":"Not Set","visible":false},"id":"1231","type":"Div"},{"attributes":{"editor":{"id":"1348"},"field":"freq","formatter":{"id":"1347"},"title":"Frequency","width":60},"id":"1278","type":"TableColumn"},{"attributes":{"button_type":"success","icon":null,"js_event_callbacks":{"button_click":[{"id":"1289"}]},"label":"Left","sizing_mode":"scale_width","visible":false,"width_policy":"fit"},"id":"1260","type":"Button"},{"attributes":{"source":{"id":"1153"}},"id":"1155","type":"CDSView"},{"attributes":{"args":{"ColumnDataSourceToChange":{"id":"1293"},"LL_aim_slider":{"id":"1267"},"LM_aim_slider":{"id":"1268"},"LR_aim_slider":{"id":"1269"},"RL_aim_slider":{"id":"1270"},"RM_aim_slider":{"id":"1271"},"RR_aim_slider":{"id":"1272"}},"code":"\n    var data=ColumnDataSourceToChange.data\n    var chances=data['chances']\n    \n    var total=0\n    total+=LL_aim_slider.value\n    total+=LM_aim_slider.value\n    total+=LR_aim_slider.value\n    total+=RL_aim_slider.value\n    total+=RM_aim_slider.value\n    total+=RR_aim_slider.value\n    \n    chances[0]=LL_aim_slider.value/total\n    chances[1]=LM_aim_slider.value/total\n    chances[2]=LR_aim_slider.value/total\n    chances[3]=RL_aim_slider.value/total\n    chances[4]=RM_aim_slider.value/total\n    chances[5]=RR_aim_slider.value/total\n    \n    ColumnDataSourceToChange.change.emit()\n"},"id":"1306","type":"CustomJS"},{"attributes":{"text":"0","visible":false},"id":"1243","type":"Div"},{"attributes":{"data":{},"selected":{"id":"1415"},"selection_policy":{"id":"1416"}},"id":"1159","type":"ColumnDataSource"},{"attributes":{},"id":"1337","type":"StringFormatter"},{"attributes":{"columns":[{"id":"1276"},{"id":"1277"},{"id":"1278"},{"id":"1279"},{"id":"1280"},{"id":"1281"},{"id":"1282"}],"fit_columns":false,"height":280,"sizing_mode":"scale_width","source":{"id":"1275"},"view":{"id":"1284"},"visible":false,"width":711},"id":"1283","type":"DataTable"},{"attributes":{"source":{"id":"1105"}},"id":"1107","type":"CDSView"},{"attributes":{"data_source":{"id":"1156"},"glyph":{"id":"1146"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1158"}},"id":"1157","type":"GlyphRenderer"},{"attributes":{"fill_color":{"value":"#8AD3AA"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":1.5},"y":{"value":0}},"id":"1121","type":"Rect"},{"attributes":{"data":{},"selected":{"id":"1391"},"selection_policy":{"id":"1392"}},"id":"1111","type":"ColumnDataSource"},{"attributes":{"text":"0","visible":false},"id":"1242","type":"Div"},{"attributes":{"text":"0","visible":false},"id":"1235","type":"Div"},{"attributes":{"args":{"ColumnDataSourceToChange":{"id":"1293"},"LL_aim_slider":{"id":"1267"},"LM_aim_slider":{"id":"1268"},"LR_aim_slider":{"id":"1269"},"RL_aim_slider":{"id":"1270"},"RM_aim_slider":{"id":"1271"},"RR_aim_slider":{"id":"1272"}},"code":"\n    var data=ColumnDataSourceToChange.data\n    var chances=data['chances']\n    \n    var total=0\n    total+=LL_aim_slider.value\n    total+=LM_aim_slider.value\n    total+=LR_aim_slider.value\n    total+=RL_aim_slider.value\n    total+=RM_aim_slider.value\n    total+=RR_aim_slider.value\n    \n    chances[0]=LL_aim_slider.value/total\n    chances[1]=LM_aim_slider.value/total\n    chances[2]=LR_aim_slider.value/total\n    chances[3]=RL_aim_slider.value/total\n    chances[4]=RM_aim_slider.value/total\n    chances[5]=RR_aim_slider.value/total\n    \n    ColumnDataSourceToChange.change.emit()\n"},"id":"1304","type":"CustomJS"},{"attributes":{"data_source":{"id":"1108"},"glyph":{"id":"1098"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1110"}},"id":"1109","type":"GlyphRenderer"},{"attributes":{"fill_color":{"value":"#8AD3AA"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":2.5},"y":{"value":0}},"id":"1122","type":"Rect"},{"attributes":{"editor":{"id":"1350"},"field":"decisions","formatter":{"id":"1349"},"title":"Goalie Decisions","width":90},"id":"1279","type":"TableColumn"},{"attributes":{"source":{"id":"1156"}},"id":"1158","type":"CDSView"},{"attributes":{"data":{},"selected":{"id":"1417"},"selection_policy":{"id":"1418"}},"id":"1162","type":"ColumnDataSource"},{"attributes":{},"id":"1347","type":"StringFormatter"},{"attributes":{"button_type":"success","icon":null,"js_event_callbacks":{"button_click":[{"id":"1299"}]},"label":"Automate","sizing_mode":"scale_width","width_policy":"fit"},"id":"1264","type":"Button"},{"attributes":{},"id":"1339","type":"StringFormatter"},{"attributes":{"args":{"ColumnDataSourceToChange":{"id":"1293"},"LL_aim_slider":{"id":"1267"},"LM_aim_slider":{"id":"1268"},"LR_aim_slider":{"id":"1269"},"RL_aim_slider":{"id":"1270"},"RM_aim_slider":{"id":"1271"},"RR_aim_slider":{"id":"1272"}},"code":"\n    var data=ColumnDataSourceToChange.data\n    var chances=data['chances']\n    \n    var total=0\n    total+=LL_aim_slider.value\n    total+=LM_aim_slider.value\n    total+=LR_aim_slider.value\n    total+=RL_aim_slider.value\n    total+=RM_aim_slider.value\n    total+=RR_aim_slider.value\n    \n    chances[0]=LL_aim_slider.value/total\n    chances[1]=LM_aim_slider.value/total\n    chances[2]=LR_aim_slider.value/total\n    chances[3]=RL_aim_slider.value/total\n    chances[4]=RM_aim_slider.value/total\n    chances[5]=RR_aim_slider.value/total\n    \n    ColumnDataSourceToChange.change.emit()\n"},"id":"1305","type":"CustomJS"},{"attributes":{"data_source":{"id":"1159"},"glyph":{"id":"1147"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1161"}},"id":"1160","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1108"}},"id":"1110","type":"CDSView"},{"attributes":{"data_source":{"id":"1111"},"glyph":{"id":"1099"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1113"}},"id":"1112","type":"GlyphRenderer"},{"attributes":{"sizing_mode":"stretch_width","text":"0,0,0","visible":false},"id":"1227","type":"Div"},{"attributes":{"editor":{"id":"1346"},"field":"aim_direction","formatter":{"id":"1345"},"title":"Striker Aim Direction","width":107},"id":"1277","type":"TableColumn"},{"attributes":{"button_type":"success","icon":null,"js_event_callbacks":{"button_click":[{"id":"1291"}]},"label":"Right","sizing_mode":"scale_width","visible":false,"width_policy":"fit"},"id":"1262","type":"Button"},{"attributes":{"text":"0","visible":false},"id":"1248","type":"Div"},{"attributes":{"source":{"id":"1159"}},"id":"1161","type":"CDSView"},{"attributes":{"editor":{"id":"1344"},"field":"footedness","formatter":{"id":"1343"},"title":"Striker Footedness","width":101},"id":"1276","type":"TableColumn"},{"attributes":{"data":{},"selected":{"id":"1419"},"selection_policy":{"id":"1420"}},"id":"1165","type":"ColumnDataSource"},{"attributes":{"source":{"id":"1111"}},"id":"1113","type":"CDSView"},{"attributes":{"text":"0","visible":false},"id":"1240","type":"Div"},{"attributes":{"data_source":{"id":"1162"},"glyph":{"id":"1148"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1164"}},"id":"1163","type":"GlyphRenderer"},{"attributes":{"data_source":{"id":"1114"},"glyph":{"id":"1100"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1116"}},"id":"1115","type":"GlyphRenderer"},{"attributes":{"text":"0","visible":false},"id":"1241","type":"Div"},{"attributes":{"sizing_mode":"stretch_width","text":"0","visible":false},"id":"1225","type":"Div"},{"attributes":{"text":"0","visible":false},"id":"1244","type":"Div"},{"attributes":{"text":"0","visible":false},"id":"1247","type":"Div"},{"attributes":{"source":{"id":"1162"}},"id":"1164","type":"CDSView"},{"attributes":{"args":{"ColumnDataSourceToChange":{"id":"1293"},"LL_aim_slider":{"id":"1267"},"LM_aim_slider":{"id":"1268"},"LR_aim_slider":{"id":"1269"},"RL_aim_slider":{"id":"1270"},"RM_aim_slider":{"id":"1271"},"RR_aim_slider":{"id":"1272"}},"code":"\n    var data=ColumnDataSourceToChange.data\n    var chances=data['chances']\n    \n    var total=0\n    total+=LL_aim_slider.value\n    total+=LM_aim_slider.value\n    total+=LR_aim_slider.value\n    total+=RL_aim_slider.value\n    total+=RM_aim_slider.value\n    total+=RR_aim_slider.value\n    \n    chances[0]=LL_aim_slider.value/total\n    chances[1]=LM_aim_slider.value/total\n    chances[2]=LR_aim_slider.value/total\n    chances[3]=RL_aim_slider.value/total\n    chances[4]=RM_aim_slider.value/total\n    chances[5]=RR_aim_slider.value/total\n    \n    ColumnDataSourceToChange.change.emit()\n"},"id":"1302","type":"CustomJS"},{"attributes":{"fill_color":{"value":"#CBEBD9"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":3.5},"y":{"value":0}},"id":"1147","type":"Rect"},{"attributes":{"args":{"ColumnDataSourceToChange":{"id":"1293"},"LL_aim_slider":{"id":"1267"},"LM_aim_slider":{"id":"1268"},"LR_aim_slider":{"id":"1269"},"RL_aim_slider":{"id":"1270"},"RM_aim_slider":{"id":"1271"},"RR_aim_slider":{"id":"1272"}},"code":"\n    var data=ColumnDataSourceToChange.data\n    var chances=data['chances']\n    \n    var total=0\n    total+=LL_aim_slider.value\n    total+=LM_aim_slider.value\n    total+=LR_aim_slider.value\n    total+=RL_aim_slider.value\n    total+=RM_aim_slider.value\n    total+=RR_aim_slider.value\n    \n    chances[0]=LL_aim_slider.value/total\n    chances[1]=LM_aim_slider.value/total\n    chances[2]=LR_aim_slider.value/total\n    chances[3]=RL_aim_slider.value/total\n    chances[4]=RM_aim_slider.value/total\n    chances[5]=RR_aim_slider.value/total\n    \n    ColumnDataSourceToChange.change.emit()\n"},"id":"1303","type":"CustomJS"},{"attributes":{"button_type":"success","icon":null,"js_event_callbacks":{"button_click":[{"id":"1300"}]},"label":"Start","sizing_mode":"scale_width","visible":false,"width_policy":"fit"},"id":"1265","type":"Button"},{"attributes":{"data":{},"selected":{"id":"1421"},"selection_policy":{"id":"1422"}},"id":"1168","type":"ColumnDataSource"},{"attributes":{"text":"0","visible":false},"id":"1246","type":"Div"},{"attributes":{"fill_color":{"value":"#8AD3AA"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":3.5},"y":{"value":0}},"id":"1123","type":"Rect"},{"attributes":{"text":"0","visible":false},"id":"1245","type":"Div"},{"attributes":{"button_type":"success","icon":null,"js_event_callbacks":{"button_click":[{"id":"1301"}]},"label":"Next","sizing_mode":"scale_width","visible":false,"width_policy":"fit"},"id":"1266","type":"Button"},{"attributes":{"button_type":"success","icon":null,"js_event_callbacks":{"button_click":[{"id":"1292"}]},"label":"SHOOT!","sizing_mode":"scale_width","visible":false,"width_policy":"fit"},"id":"1263","type":"Button"},{"attributes":{"data_source":{"id":"1034"},"glyph":{"id":"1032"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1036"}},"id":"1035","type":"GlyphRenderer"},{"attributes":{"text":"0","visible":false},"id":"1249","type":"Div"},{"attributes":{"formatter":{"id":"1325"},"ticker":{"id":"1018"},"visible":false},"id":"1017","type":"LinearAxis"},{"attributes":{},"id":"1388","type":"UnionRenderers"},{"attributes":{"source":{"id":"1194"}},"id":"1199","type":"CDSView"},{"attributes":{"data_source":{"id":"1165"},"glyph":{"id":"1149"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1167"}},"id":"1166","type":"GlyphRenderer"},{"attributes":{"args":{"ChancesColumnDataSource":{"id":"1293"},"DistributionColumnDataSource":{"id":"1275"},"automation_distribution_table":{"id":"1283"},"automation_table":{"id":"1297"},"b_auto_next":{"id":"1266"},"ball":{"id":"1040"},"game_figure":{"id":"1002"},"game_stats_figure_1":{"id":"1052"},"game_stats_figure_1_source":{"id":"1194"},"goalie_body":{"id":"1033"},"goalie_head":{"id":"1032"},"iterations_to_run":{"id":"1230"},"ll_blocked_left":{"id":"1238"},"ll_blocked_left_bar":{"id":"1096"},"ll_blocked_middle":{"id":"1244"},"ll_blocked_middle_bar":{"id":"1120"},"ll_blocked_right":{"id":"1250"},"ll_blocked_right_bar":{"id":"1144"},"ll_scored":{"id":"1232"},"ll_scored_bar":{"id":"1072"},"lm_blocked_left":{"id":"1239"},"lm_blocked_left_bar":{"id":"1097"},"lm_blocked_middle":{"id":"1245"},"lm_blocked_middle_bar":{"id":"1121"},"lm_blocked_right":{"id":"1251"},"lm_blocked_right_bar":{"id":"1145"},"lm_scored":{"id":"1233"},"lm_scored_bar":{"id":"1073"},"lr_blocked_left":{"id":"1240"},"lr_blocked_left_bar":{"id":"1098"},"lr_blocked_middle":{"id":"1246"},"lr_blocked_middle_bar":{"id":"1122"},"lr_blocked_right":{"id":"1252"},"lr_blocked_right_bar":{"id":"1146"},"lr_scored":{"id":"1234"},"lr_scored_bar":{"id":"1074"},"nround":{"id":"1224"},"rl_blocked_left":{"id":"1241"},"rl_blocked_left_bar":{"id":"1099"},"rl_blocked_middle":{"id":"1247"},"rl_blocked_middle_bar":{"id":"1123"},"rl_blocked_right":{"id":"1253"},"rl_blocked_right_bar":{"id":"1147"},"rl_scored":{"id":"1235"},"rl_scored_bar":{"id":"1075"},"rm_blocked_left":{"id":"1242"},"rm_blocked_left_bar":{"id":"1100"},"rm_blocked_middle":{"id":"1248"},"rm_blocked_middle_bar":{"id":"1124"},"rm_blocked_right":{"id":"1254"},"rm_blocked_right_bar":{"id":"1148"},"rm_scored":{"id":"1236"},"rm_scored_bar":{"id":"1076"},"rr_blocked_left":{"id":"1243"},"rr_blocked_left_bar":{"id":"1101"},"rr_blocked_middle":{"id":"1249"},"rr_blocked_middle_bar":{"id":"1125"},"rr_blocked_right":{"id":"1255"},"rr_blocked_right_bar":{"id":"1149"},"rr_scored":{"id":"1237"},"rr_scored_bar":{"id":"1077"},"score":{"id":"1225"},"strategy_to_use":{"id":"1231"},"txt":{"id":"1220"}},"code":"\n\n\n\n\n// Define probability matrix\nvar p = {'Right' : {'LeftLeft' : 0.55,\n                    'LeftMiddle' : 0.65,\n                    'LeftRight' : 0.93,\n                    'MiddleLeft' : 0.74,\n                    'MiddleMiddle' : 0.60,\n                    'MiddleRight' : 0.72,\n                    'RightLeft' : 0.95,\n                    'RightMiddle' : 0.73,\n                    'RightRight' : 0.70},\n         'Left' :  {'LeftLeft' : 0.67,\n                    'LeftMiddle' : 0.70,\n                   'LeftRight' : 0.96,\n                    'MiddleLeft' : 0.74,\n                    'MiddleMiddle' : 0.60,\n                    'MiddleRight' : 0.72,\n                    'RightLeft' : 0.87,\n                    'RightMiddle' : 0.65,\n                    'RightRight' : 0.61}}\n\n//Obtain the Shot Aim chances from the column data source\n    var chances_data=ChancesColumnDataSource.data\n    var chances=chances_data['chances']\n    var LL_chance=chances[0]\n    var LM_chance=LL_chance+chances[1]\n    var LR_chance=LM_chance+chances[2]\n    var RL_chance=LR_chance+chances[3]\n    var RM_chance=RL_chance+chances[4]\n\n//Goalie Logic Decision Making Variables\n    var chance_left=1/3;\n    var chance_middle=1/3;\n    var chance_right=1/3;\n\n    var danger_goalie_left=0;\n    var danger_goalie_middle=0;\n    var danger_goalie_right=0;\n    var selected_dict=0;\n\n    var total_sample_rolls\n\n    var goalie_action=\"None\"\n\n//Loop Randomness Variable\n    var roll=0;\n\n//Goalie Fictitious Learning Variables\n    var selected_index=0;\n\n    var dist_data=DistributionColumnDataSource.data\n    var freq=dist_data['freq']\n    var decisions=dist_data['decisions']\n\n//Data Display Variables\n    var perceived_risks=dist_data['goalie_perceived_risks']\n    var scoring_chance=dist_data['striker_score_chance']\n    var scoring_roll=dist_data['striker_score_roll']\n\n//Striker Kick Choice Variables\n    var kicker_foot='none'\n    var kicker_kick='none'\n\n//Scoring Variables\n    var score_chance=0\n    var goal=1\n\n//Animation Variables\n    var animation_positions = {'Left':[37, 43], 'Middle':[47,53], 'Right':[57, 63]}\n    var bally=63\n\n\n\n//Handle Automated Selection\nroll=Math.random();    \n    \nif(roll&lt;=LL_chance){\n    kicker_foot='Left'\n    kicker_kick='Left'\n}\nelse if(roll&lt;=LM_chance){\n    kicker_foot='Left'\n    kicker_kick='Middle'\n}\nelse if(roll&lt;=LR_chance){\n    kicker_foot='Left'\n    kicker_kick='Right'\n}\nelse if(roll&lt;=RL_chance){\n    kicker_foot='Right'\n    kicker_kick='Left'\n}\nelse if(roll&lt;=RM_chance){\n    kicker_foot='Right'\n    kicker_kick='Middle'\n}\nelse{\n    kicker_foot='Right'\n    kicker_kick='Right'\n}\n\n\n\nif(strategy_to_use.text==\"Fictitious_Play\"){\n    \n\n//Handle Goalie Decision\n\nif(kicker_foot=='Left'){\n    total_sample_rolls=freq[0]+freq[1]+freq[2]\n    selected_dict=p['Left']\n    if(total_sample_rolls==0){\n        chance_left=1/3\n        chance_middle=1/3\n        chance_right=1/3\n    }\n    else{\n        chance_left=freq[0]/total_sample_rolls\n        chance_middle=freq[1]/total_sample_rolls\n        chance_right=freq[2]/total_sample_rolls\n    }\n}\nelse{\n    total_sample_rolls=freq[3]+freq[4]+freq[5]\n    selected_dict=p['Right']\n    if(total_sample_rolls==0){\n        chance_left=1/3\n        chance_middle=1/3\n        chance_right=1/3\n    }\n    else{\n        chance_left=freq[3]/total_sample_rolls\n        chance_middle=freq[4]/total_sample_rolls\n        chance_right=freq[5]/total_sample_rolls\n    }\n}\ndanger_goalie_left=(chance_left*selected_dict['LeftLeft']+chance_middle*selected_dict['MiddleLeft']+chance_right*selected_dict['RightLeft']);\ndanger_goalie_middle=(chance_left*selected_dict['LeftMiddle']+chance_middle*selected_dict['MiddleMiddle']+chance_right*selected_dict['RightMiddle'])\ndanger_goalie_right=(chance_left*selected_dict['LeftRight']+chance_middle*selected_dict['MiddleRight']+chance_right*selected_dict['RightRight'])\n    \n\nif(danger_goalie_left&lt;danger_goalie_middle){\n    if(danger_goalie_left&lt;danger_goalie_right){\n        goalie_action=\"Left\"\n    }\n    else if(danger_goalie_left==danger_goalie_right){\n        roll=Math.random()\n        if(roll&lt;=0.5){\n            goalie_action=\"Left\"\n        }\n        else{\n            goalie_action=\"Right\"\n        }\n    }\n    else{\n        goalie_action=\"Right\"\n    }\n}\nelse if (danger_goalie_left==danger_goalie_middle){\n    roll=Math.random()\n    if(roll&lt;=0.5){\n        goalie_action=\"Left\"\n    }\n    else{\n        goalie_action=\"Middle\"\n    }\n}\nelse{\n    if(danger_goalie_middle&lt;danger_goalie_right){\n        goalie_action=\"Middle\"\n    }\n    else if(danger_goalie_middle==danger_goalie_right){\n        roll=Math.random()\n        if(roll&lt;=0.5){\n            goalie_action=\"Middle\"\n        }\n        else{\n            goalie_action=\"Right\"\n        }\n    }\n    else{\n        goalie_action=\"Right\"\n    }    \n}\n\n\n}\nelse{\n    \n\nroll=Math.random()\nif(kicker_foot=='Left'){\n    if(roll&lt;=0.8){\n        goalie_action=\"Middle\"\n    }\n    else{\n        goalie_action=\"Left\"\n    }\n}\nelse if(kicker_foot=='Right'){\n    if(roll&lt;=0.7419){\n        goalie_action=\"Middle\"\n    }\n    else{\n        goalie_action=\"Right\"\n    }\n\n}\n\n\n}\n\n\n\n\n//Handle Score Chance:\n    \nroll=Math.random()\nscore_chance=p[kicker_foot][kicker_kick+goalie_action]\nif(roll&lt;=score_chance){\n    goal=1\n}\nelse{\n    goal=-1\n}\n//Display Score Chance:\n\nfor(var i=0; i&lt;=5; i++){\n    scoring_chance[i]=0;\n    scoring_roll[i]=0;\n}\n\nselected_index=0\nif(kicker_foot=='Right'){\n    selected_index+=3\n}\nif(kicker_kick=='Middle'){\n    selected_index+=1\n}\nelse if(kicker_kick=='Right'){\n    selected_index+=2\n}\n\nscoring_chance[selected_index]=score_chance\nscoring_roll[selected_index]=roll.toString().substring(0,8);\n\n// Update text\n    \nvar n = (parseInt(nround.text) + 1)\nif(n&gt;=parseInt(iterations_to_run.text)){\n    b_auto_next.visible=false;\n    game_figure.visible=false;\n    automation_distribution_table.visible=false;\n    game_stats_figure_1.visible=true;\n}\nnround.text = n.toString()\n    \nvar s = parseInt(score.text) + goal\nscore.text = s.toString()\n\n\n\n//Animate Scenario:\n\nvar animation_roll=0;\nvar animation_slot=0;\nanimation_roll=Math.random()\n\nif(animation_roll&lt;=0.5){\n    animation_slot=1;\n}\n\nball.x = animation_positions[kicker_kick][animation_slot]\nball.y = bally\n\nif(goal==-1){\n    if(goalie_action==kicker_kick){\n        goalie_head.x = ball.x\n        goalie_body.x = ball.x\n    }\n    else{\n        if(kicker_kick==\"Right\"){\n            ball.x=70\n        }\n        else if(kicker_kick==\"Left\"){\n            ball.x=30\n        }\n        else{\n            ball.x=[30,70][animation_slot]\n        }\n    }\n\n}\nelse{\n    if(goalie_action==kicker_kick){\n        if(animation_slot==1){\n            goalie_head.x=animation_positions[goalie_action][0]\n            goalie_body.x=animation_positions[goalie_action][0]\n        }\n        else{\n            goalie_head.x=animation_positions[goalie_action][1]\n            goalie_body.x=animation_positions[goalie_action][1]\n        }\n    }else{\n        if(animation_roll&lt;=0.5){\n            animation_slot=1;\n        }else{\n            animation_slot=0;\n        }\n        goalie_head.x=animation_positions[goalie_action][animation_slot]\n        goalie_body.x=animation_positions[goalie_action][animation_slot]\n    }\n}\n\n\n\n//Update Goalie Frequency Tracking:\n    \nselected_index=0\nif(kicker_foot=='Right'){\n    selected_index+=3\n}\nif(kicker_kick=='Middle'){\n    selected_index+=1\n}\nelse if(kicker_kick=='Right'){\n    selected_index+=2\n}\n    \nfreq[selected_index]+=1\n\n//Update Goalie Decision Tracking:\n    \nselected_index=0\nif(kicker_foot=='Right'){\n    selected_index+=3\n}\nif(goalie_action=='Middle'){\n    selected_index+=1\n}\nelse if(goalie_action=='Right'){\n    selected_index+=2\n}\n    \ndecisions[selected_index]+=1\n\nif(strategy_to_use.text==\"Fictitious_Play\"){\n\n    //Update Goalie Perceived Risks:\n\n    selected_index=0\n    if(kicker_foot=='Right'){\n        selected_index+=3\n    }\n    for(var i=0; i&lt;=5; i++){\n        perceived_risks[i]=0\n    }\n    perceived_risks[selected_index]=danger_goalie_left.toString().substring(0,8);\n    perceived_risks[selected_index+1]=danger_goalie_middle.toString().substring(0,8);\n    perceived_risks[selected_index+2]=danger_goalie_right.toString().substring(0,8);\n    \n}\n\n\n\nvar selected_bar = 0;\n\nvar scored_bars = [ll_scored_bar, lm_scored_bar, lr_scored_bar, \n                   rl_scored_bar, rm_scored_bar, rr_scored_bar];\nvar scored_texts = [ll_scored, lm_scored, lr_scored, \n                    rl_scored, rm_scored, rr_scored];\n                    \nvar blockedl_bars = [ll_blocked_left_bar, lm_blocked_left_bar, lr_blocked_left_bar,\n                     rl_blocked_left_bar, rm_blocked_left_bar, rr_blocked_left_bar];\nvar blockedl_texts = [ll_blocked_left, lm_blocked_left, lr_blocked_left, \n                      rl_blocked_left, rm_blocked_left, rr_blocked_left];\n\nvar blockedm_bars = [ll_blocked_middle_bar, lm_blocked_middle_bar, lr_blocked_middle_bar, \n                     rl_blocked_middle_bar, rm_blocked_middle_bar, rr_blocked_middle_bar];\nvar blockedm_texts = [ll_blocked_middle, lm_blocked_middle, lr_blocked_middle, \n                      rl_blocked_middle, rm_blocked_middle, rr_blocked_middle];\n\nvar blockedr_bars = [ll_blocked_right_bar, lm_blocked_right_bar, lr_blocked_right_bar, \n                     rl_blocked_right_bar, rm_blocked_right_bar, rr_blocked_right_bar];\nvar blockedr_texts = [ll_blocked_right, lm_blocked_right, lr_blocked_right, \n                      rl_blocked_right, rm_blocked_right, rr_blocked_right];\n\n\n\nif (kicker_foot == 'Right'){\n    selected_bar += 3;\n}\n\nif(kicker_kick == 'Middle'){\n    selected_bar += 1;\n}\nelse if(kicker_kick == 'Right'){\n    selected_bar += 2;\n}\n\n\n\nif(goal == 1){\n\n    var new_score = parseInt(scored_texts[selected_bar].text);\n    new_score += 1;\n    scored_texts[selected_bar].text = new_score.toString();\n\n}\nelse{\n\n    if(goalie_action == 'Left'){ \n        var new_blockedl = parseInt(blockedl_texts[selected_bar].text);\n        new_blockedl += 1;\n        blockedl_texts[selected_bar].text = new_blockedl.toString();\n    }\n    else if(goalie_action == 'Middle'){\n        var new_blockedm = parseInt(blockedm_texts[selected_bar].text);\n        new_blockedm += 1;\n        blockedm_texts[selected_bar].text = new_blockedm.toString();\n    }\n    else{\n        var new_blockedr = parseInt(blockedr_texts[selected_bar].text);\n        new_blockedr += 1;\n        blockedr_texts[selected_bar].text = new_blockedr.toString();\n    }\n}\n\n\n\nvar scored_bar_height = parseInt(scored_texts[selected_bar].text);\nscored_bars[selected_bar].height = scored_bar_height;\nscored_bars[selected_bar].y = scored_bar_height / 2;\n\nvar blockedl_bar_height = parseInt(blockedl_texts[selected_bar].text);\nblockedl_bars[selected_bar].height = blockedl_bar_height;\nblockedl_bars[selected_bar].y = scored_bar_height + blockedl_bar_height/2;\n\nvar blockedm_bar_height = parseInt(blockedm_texts[selected_bar].text);\nblockedm_bars[selected_bar].height = blockedm_bar_height;\nblockedm_bars[selected_bar].y = scored_bar_height + blockedl_bar_height + blockedm_bar_height/2;\n\nvar blockedr_bar_height = parseInt(blockedr_texts[selected_bar].text);\nblockedr_bars[selected_bar].height = blockedr_bar_height;\nblockedr_bars[selected_bar].y = scored_bar_height + blockedl_bar_height + blockedm_bar_height + blockedr_bar_height/2;\n\n\nvar new_graph_height = 0;\nfor (var i = 0; i &lt;= 5; i++){\n    var possible_graph_height = (Math.round((parseInt(scored_texts[i].text)\n                                             + parseInt(blockedl_texts[i].text)\n                                             + parseInt(blockedm_texts[i].text)\n                                             + parseInt(blockedr_texts[i].text))\n                                            * 5/4));\n    if(possible_graph_height &gt; new_graph_height){\n       new_graph_height = possible_graph_height;\n    }\n    game_stats_figure_1.y_range.end = new_graph_height;\n}\n\n\nif(parseInt(nround.text) &gt;= parseInt(iterations_to_run.text)){\n    const fig_1_data = game_stats_figure_1_source.data;\n    \n    for (var i = 0; i &lt;= 5; i++){\n        var scored_y_height = parseInt(scored_texts[i].text);\n        var blockedl_height = parseInt(blockedl_texts[i].text) + scored_y_height;\n        var blockedm_height = parseInt(blockedm_texts[i].text) + blockedl_height;\n        var blockedr_height = parseInt(blockedr_texts[i].text) + blockedm_height;\n        \n        fig_1_data['scored_y'][i*3] = scored_y_height;\n        fig_1_data['scored_y'][i*3 + 1] = scored_y_height;\n        fig_1_data['scored_y'][i*3 + 2] = scored_y_height;\n        \n        fig_1_data['blockedl_y'][i*3] = blockedl_height;\n        fig_1_data['blockedl_y'][i*3 + 1] = blockedl_height;\n        fig_1_data['blockedl_y'][i*3 + 2] = blockedl_height;\n        \n        fig_1_data['blockedm_y'][i*3] = blockedm_height;\n        fig_1_data['blockedm_y'][i*3 + 1] = blockedm_height;\n        fig_1_data['blockedm_y'][i*3 + 2] = blockedm_height;\n        \n        fig_1_data['blockedr_y'][i*3] = blockedr_height;\n        fig_1_data['blockedr_y'][i*3 + 1] = blockedr_height;\n        fig_1_data['blockedr_y'][i*3 + 2] = blockedr_height;\n    }\n    \n    game_stats_figure_1_source.change.emit();\n}\n\n\ntxt.data['text'][0] = 'Rounds played: ' + n\n\nif (goal == 1) {\n    txt.data['text'][3] = 'GOAL!'\n} \nelse {\n    txt.data['text'][3] = 'Blocked'\n}\ntxt.data['text'][1] = 'Total score: ' + s\n\ntxt.change.emit()\n\nDistributionColumnDataSource.change.emit()\n"},"id":"1301","type":"CustomJS"},{"attributes":{"data":{},"selected":{"id":"1363"},"selection_policy":{"id":"1364"}},"id":"1037","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.1,"line_color":"#8AD3AA","x":{"field":"x"},"y":{"field":"blockedm_y"}},"id":"1207","type":"Line"},{"attributes":{},"id":"1018","type":"BasicTicker"},{"attributes":{"source":{"id":"1165"}},"id":"1167","type":"CDSView"},{"attributes":{"items":[{"id":"1192"},{"id":"1193"}],"location":[68,40],"orientation":"horizontal"},"id":"1191","type":"Legend"},{"attributes":{"text":"0","visible":false},"id":"1250","type":"Div"},{"attributes":{},"id":"1377","type":"Selection"},{"attributes":{"button_type":"success","icon":null,"js_event_callbacks":{"button_click":[{"id":"1286"}]},"label":"Begin","sizing_mode":"scale_width","width_policy":"fit"},"id":"1256","type":"Button"},{"attributes":{"source":{"id":"1173"}},"id":"1177","type":"CDSView"},{"attributes":{},"id":"1387","type":"Selection"},{"attributes":{"axis":{"id":"1013"},"grid_line_color":null,"ticker":null},"id":"1016","type":"Grid"},{"attributes":{"source":{"id":"1034"}},"id":"1036","type":"CDSView"},{"attributes":{"text":"0","visible":false},"id":"1251","type":"Div"},{"attributes":{"data":{"blockedl_y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"blockedm_y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"blockedr_y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"hoverhovering":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"hovershow":[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],"hoverxy":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"scored_y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"x":[0.0,0.5,1.0,1.0,1.5,2.0,2.0,2.5,3.0,3.0,3.5,4.0,4.0,4.5,5.0,5.0,5.5,6.0]},"selected":{"id":"1429"},"selection_policy":{"id":"1430"}},"id":"1194","type":"ColumnDataSource"},{"attributes":{"fill_color":{"value":"whitesmoke"},"line_width":{"value":2},"size":{"units":"screen","value":17},"x":{"value":50},"y":{"value":13}},"id":"1040","type":"Circle"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto"},"id":"1021","type":"Toolbar"},{"attributes":{"text":"0","visible":false},"id":"1252","type":"Div"},{"attributes":{"background_fill_color":"white","below":[{"id":"1063"},{"id":"1188"},{"id":"1191"}],"center":[{"id":"1066"},{"id":"1070"}],"left":[{"id":"1067"}],"outline_line_color":null,"plot_height":480,"renderers":[{"id":"1079"},{"id":"1082"},{"id":"1085"},{"id":"1088"},{"id":"1091"},{"id":"1094"},{"id":"1103"},{"id":"1106"},{"id":"1109"},{"id":"1112"},{"id":"1115"},{"id":"1118"},{"id":"1127"},{"id":"1130"},{"id":"1133"},{"id":"1136"},{"id":"1139"},{"id":"1142"},{"id":"1151"},{"id":"1154"},{"id":"1157"},{"id":"1160"},{"id":"1163"},{"id":"1166"},{"id":"1171"},{"id":"1176"},{"id":"1181"},{"id":"1186"},{"id":"1198"},{"id":"1203"},{"id":"1208"},{"id":"1213"}],"sizing_mode":"stretch_width","title":{"id":"1053"},"toolbar":{"id":"1071"},"toolbar_location":null,"visible":false,"x_range":{"id":"1055"},"x_scale":{"id":"1059"},"y_range":{"id":"1057"},"y_scale":{"id":"1061"}},"id":"1052","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1385","type":"Selection"},{"attributes":{"text":"0","visible":false},"id":"1232","type":"Div"},{"attributes":{"data_source":{"id":"1037"},"glyph":{"id":"1033"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1039"}},"id":"1038","type":"GlyphRenderer"},{"attributes":{"label":{"value":"Goalie Blocked By Going Middle"},"renderers":[{"id":"1181"}]},"id":"1192","type":"LegendItem"},{"attributes":{"fill_color":{"value":"#3F6750"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":0.5},"y":{"value":0}},"id":"1072","type":"Rect"},{"attributes":{"source":{"id":"1178"}},"id":"1182","type":"CDSView"},{"attributes":{"label":{"value":"Scored"},"renderers":[{"id":"1171"}]},"id":"1189","type":"LegendItem"},{"attributes":{"text":"0","visible":false},"id":"1253","type":"Div"},{"attributes":{},"id":"1376","type":"UnionRenderers"},{"attributes":{"source":{"id":"1168"}},"id":"1172","type":"CDSView"},{"attributes":{},"id":"1342","type":"UnionRenderers"},{"attributes":{"label":{"value":"Goalie Blocked By Going Left"},"renderers":[{"id":"1176"}]},"id":"1190","type":"LegendItem"},{"attributes":{"text":"0","visible":false},"id":"1254","type":"Div"},{"attributes":{"axis":{"id":"1017"},"dimension":1,"grid_line_color":null,"ticker":null},"id":"1020","type":"Grid"},{"attributes":{},"id":"1383","type":"Selection"},{"attributes":{"source":{"id":"1037"}},"id":"1039","type":"CDSView"},{"attributes":{"data":{},"selected":{"id":"1365"},"selection_policy":{"id":"1366"}},"id":"1041","type":"ColumnDataSource"},{"attributes":{"text":"0","visible":false},"id":"1236","type":"Div"},{"attributes":{"text":"0","visible":false},"id":"1255","type":"Div"},{"attributes":{"button_type":"warning","icon":null,"js_event_callbacks":{"menu_item_click":[{"id":"1309"}]},"label":"CPU strategy to Use","menu":[["Fictitious_Play","Fictitious_Play"],["Mixed_Strategy","Mixed_Strategy"]],"sizing_mode":"stretch_width","visible":false},"id":"1274","type":"Dropdown"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#3F6750"},"line_alpha":{"value":0.1},"line_color":{"value":"#3F6750"},"radius":{"units":"data","value":0},"x":{"value":0},"y":{"value":0}},"id":"1170","type":"Circle"},{"attributes":{},"id":"1361","type":"Selection"},{"attributes":{"text":"Shot Status Statistics","text_font_size":{"value":"15pt"}},"id":"1053","type":"Title"},{"attributes":{},"id":"1378","type":"UnionRenderers"},{"attributes":{"end":1,"format":"0[.]00","js_property_callbacks":{"change:value":[{"id":"1302"}]},"sizing_mode":"stretch_width","start":0,"step":0.01,"title":"LL Aim Weight","value":0.16666666666666666,"visible":false},"id":"1267","type":"Slider"},{"attributes":{"args":{"b_fl":{"id":"1258"},"b_fr":{"id":"1259"},"b_shoot":{"id":"1263"},"b_start":{"id":"1256"},"bl":{"id":"1260"},"bm":{"id":"1261"},"br":{"id":"1262"},"kicker_foot":{"id":"1228"},"kicker_kick":{"id":"1229"},"txt":{"id":"1220"}},"code":"\n    b_shoot.visible = true;\n    bl.visible = false;\n    bm.visible = false;\n    br.visible = false;\n    txt.data['text'][3] = ''\n    var current = txt.data['text'][2]\n    txt.data['text'][2] = current + ' Kicking Left.'\n    kicker_kick.text= 'Left'\n    txt.change.emit()\n    b_shoot.disabled = false;\n    "},"id":"1289","type":"CustomJS"},{"attributes":{"button_type":"success","disabled":true,"icon":null,"js_event_callbacks":{"button_click":[{"id":"1285"}]},"label":"Next round","sizing_mode":"scale_width","width_policy":"fit"},"id":"1257","type":"Button"},{"attributes":{},"id":"1386","type":"UnionRenderers"},{"attributes":{"args":{"b_fl":{"id":"1258"},"b_fr":{"id":"1259"},"b_shoot":{"id":"1263"},"b_start":{"id":"1256"},"bl":{"id":"1260"},"bm":{"id":"1261"},"br":{"id":"1262"},"kicker_foot":{"id":"1228"},"kicker_kick":{"id":"1229"},"txt":{"id":"1220"}},"code":"\n    b_shoot.visible = true;\n    bl.visible = false;\n    bm.visible = false;\n    br.visible = false;\n    txt.data['text'][3] = ''\n    var current = txt.data['text'][2]\n    txt.data['text'][2] = current + ' Kicking Middle.'\n    kicker_kick.text= 'Middle'\n    txt.change.emit()\n    b_shoot.disabled = false;\n    "},"id":"1290","type":"CustomJS"},{"attributes":{"button_type":"success","disabled":true,"icon":null,"js_event_callbacks":{"button_click":[{"id":"1288"}]},"label":"Right-Footed","sizing_mode":"scale_width","width_policy":"fit"},"id":"1259","type":"Button"},{"attributes":{"fill_color":{"value":"#3F6750"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":1.5},"y":{"value":0}},"id":"1073","type":"Rect"},{"attributes":{"data":{},"selected":{"id":"1423"},"selection_policy":{"id":"1424"}},"id":"1173","type":"ColumnDataSource"},{"attributes":{"data_source":{"id":"1041"},"glyph":{"id":"1040"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1043"}},"id":"1042","type":"GlyphRenderer"},{"attributes":{"label":{"value":"Goalie Blocked By Going Right"},"renderers":[{"id":"1186"}]},"id":"1193","type":"LegendItem"},{"attributes":{"end":6},"id":"1055","type":"Range1d"},{"attributes":{"fill_color":{"value":"lightblue"},"line_width":{"value":2},"size":{"units":"screen","value":21},"x":{"value":50},"y":{"value":16}},"id":"1044","type":"Circle"},{"attributes":{},"id":"1375","type":"Selection"},{"attributes":{"end":50},"id":"1057","type":"Range1d"},{"attributes":{"data_source":{"id":"1168"},"glyph":{"id":"1169"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1170"},"selection_glyph":null,"view":{"id":"1172"}},"id":"1171","type":"GlyphRenderer"},{"attributes":{"editor":{"id":"1338"},"field":"aim_direction","formatter":{"id":"1337"},"title":"Striker Aim Direction"},"id":"1295","type":"TableColumn"},{"attributes":{"end":1,"format":"0[.]00","js_property_callbacks":{"change:value":[{"id":"1305"}]},"sizing_mode":"stretch_width","start":0,"step":0.01,"title":"RL Aim Weight","value":0.16666666666666666,"visible":false},"id":"1270","type":"Slider"},{"attributes":{},"id":"1366","type":"UnionRenderers"},{"attributes":{"toolbars":[{"id":"1071"},{"id":"1021"}],"tools":[{"id":"1218"}]},"id":"1434","type":"ProxyToolbar"},{"attributes":{"fill_color":{"value":"#3F6750"},"line_color":{"value":"#3F6750"},"radius":{"units":"data","value":0},"x":{"value":0},"y":{"value":0}},"id":"1169","type":"Circle"},{"attributes":{"source":{"id":"1041"}},"id":"1043","type":"CDSView"},{"attributes":{},"id":"1373","type":"Selection"},{"attributes":{"editor":{"id":"1340"},"field":"chances","formatter":{"id":"1339"},"title":"Chance"},"id":"1296","type":"TableColumn"},{"attributes":{},"id":"1374","type":"UnionRenderers"},{"attributes":{"fill_color":{"value":"lightblue"},"height":{"units":"data","value":6},"line_width":{"value":2},"width":{"units":"data","value":4},"x":{"value":50},"y":{"value":11}},"id":"1048","type":"Rect"},{"attributes":{},"id":"1059","type":"LinearScale"},{"attributes":{"data_source":{"id":"1194"},"glyph":{"id":"1196"},"hover_glyph":null,"muted_glyph":null,"name":"scored_y","nonselection_glyph":{"id":"1197"},"selection_glyph":null,"view":{"id":"1199"}},"id":"1198","type":"GlyphRenderer"},{"attributes":{"data_source":{"id":"1045"},"glyph":{"id":"1044"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1047"}},"id":"1046","type":"GlyphRenderer"},{"attributes":{},"id":"1359","type":"Selection"},{"attributes":{},"id":"1061","type":"LinearScale"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#64A580"},"line_alpha":{"value":0.1},"line_color":{"value":"#64A580"},"radius":{"units":"data","value":0},"x":{"value":0},"y":{"value":0}},"id":"1175","type":"Circle"},{"attributes":{"source":{"id":"1194"}},"id":"1209","type":"CDSView"},{"attributes":{},"id":"1371","type":"Selection"},{"attributes":{"end":1,"format":"0[.]00","js_property_callbacks":{"change:value":[{"id":"1307"}]},"sizing_mode":"stretch_width","start":0,"step":0.01,"title":"RR Aim Weight","value":0.16666666666666666,"visible":false},"id":"1272","type":"Slider"},{"attributes":{},"id":"1335","type":"StringFormatter"},{"attributes":{"sizing_mode":"stretch_width","text":"0","visible":false},"id":"1224","type":"Div"},{"attributes":{"source":{"id":"1293"}},"id":"1298","type":"CDSView"},{"attributes":{"line_alpha":0,"line_color":"#3F6750","x":{"field":"x"},"y":{"field":"scored_y"}},"id":"1196","type":"Line"},{"attributes":{"formatter":{"id":"1331"},"ticker":{"id":"1064"},"visible":false},"id":"1063","type":"LinearAxis"},{"attributes":{"data_source":{"id":"1173"},"glyph":{"id":"1174"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1175"},"selection_glyph":null,"view":{"id":"1177"}},"id":"1176","type":"GlyphRenderer"},{"attributes":{},"id":"1341","type":"Selection"},{"attributes":{},"id":"1372","type":"UnionRenderers"},{"attributes":{},"id":"1334","type":"UnionRenderers"},{"attributes":{"end":1,"format":"0[.]00","js_property_callbacks":{"change:value":[{"id":"1303"}]},"sizing_mode":"stretch_width","start":0,"step":0.01,"title":"LM Aim Weight","value":0.16666666666666666,"visible":false},"id":"1268","type":"Slider"},{"attributes":{"data":{},"selected":{"id":"1367"},"selection_policy":{"id":"1368"}},"id":"1045","type":"ColumnDataSource"},{"attributes":{},"id":"1064","type":"BasicTicker"},{"attributes":{},"id":"1369","type":"Selection"},{"attributes":{"data":{},"selected":{"id":"1425"},"selection_policy":{"id":"1426"}},"id":"1178","type":"ColumnDataSource"},{"attributes":{"formatter":{"id":"1329"},"ticker":{"id":"1068"}},"id":"1067","type":"LinearAxis"},{"attributes":{},"id":"1370","type":"UnionRenderers"},{"attributes":{"columns":[{"id":"1294"},{"id":"1295"},{"id":"1296"}],"height":280,"sizing_mode":"stretch_width","source":{"id":"1293"},"view":{"id":"1298"},"visible":false},"id":"1297","type":"DataTable"},{"attributes":{"fill_color":{"value":"#64A580"},"line_color":{"value":"#64A580"},"radius":{"units":"data","value":0},"x":{"value":0},"y":{"value":0}},"id":"1174","type":"Circle"},{"attributes":{"data_source":{"id":"1194"},"glyph":{"id":"1201"},"hover_glyph":null,"muted_glyph":null,"name":"blockedl_y","nonselection_glyph":{"id":"1202"},"selection_glyph":null,"view":{"id":"1204"}},"id":"1203","type":"GlyphRenderer"},{"attributes":{},"id":"1333","type":"Selection"},{"attributes":{"source":{"id":"1045"}},"id":"1047","type":"CDSView"},{"attributes":{"text":"0","visible":false},"id":"1238","type":"Div"},{"attributes":{"end":500,"format":"0[.]00","js_property_callbacks":{"change:value":[{"id":"1308"}]},"sizing_mode":"stretch_width","start":10,"title":"Iterations To Run","value":50,"visible":false},"id":"1273","type":"Slider"},{"attributes":{},"id":"1367","type":"Selection"},{"attributes":{"children":[{"id":"1271"}],"max_width":400,"sizing_mode":"stretch_width"},"id":"1318","type":"Row"},{"attributes":{"data_source":{"id":"1049"},"glyph":{"id":"1048"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1051"}},"id":"1050","type":"GlyphRenderer"},{"attributes":{"text":"0","visible":false},"id":"1239","type":"Div"},{"attributes":{"background_fill_color":"green","below":[{"id":"1013"}],"center":[{"id":"1016"},{"id":"1020"}],"left":[{"id":"1017"}],"outline_line_color":null,"plot_height":480,"renderers":[{"id":"1025"},{"id":"1030"},{"id":"1035"},{"id":"1038"},{"id":"1042"},{"id":"1046"},{"id":"1050"},{"id":"1222"}],"sizing_mode":"stretch_width","title":{"id":"1003"},"toolbar":{"id":"1021"},"toolbar_location":null,"x_range":{"id":"1005"},"x_scale":{"id":"1009"},"y_range":{"id":"1007"},"y_scale":{"id":"1011"}},"id":"1002","subtype":"Figure","type":"Plot"},{"attributes":{"axis":{"id":"1063"},"grid_line_color":null,"ticker":null},"id":"1066","type":"Grid"},{"attributes":{},"id":"1368","type":"UnionRenderers"},{"attributes":{"args":{"b_fl":{"id":"1258"},"b_fr":{"id":"1259"},"b_shoot":{"id":"1263"},"b_start":{"id":"1256"},"bl":{"id":"1260"},"bm":{"id":"1261"},"br":{"id":"1262"},"kicker_foot":{"id":"1228"},"kicker_kick":{"id":"1229"},"txt":{"id":"1220"}},"code":"\n    b_shoot.visible = true;\n    bl.visible = false;\n    bm.visible = false;\n    br.visible = false;\n    txt.data['text'][3] = ''\n    var current = txt.data['text'][2]\n    txt.data['text'][2] = current + ' Kicking Right.'\n    kicker_kick.text= 'Right'\n    txt.change.emit()\n    b_shoot.disabled = false;\n    "},"id":"1291","type":"CustomJS"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"field":"line_color"},"line_width":{"value":4},"xs":{"field":"xs"},"ys":{"field":"ys"}},"id":"1024","type":"MultiLine"},{"attributes":{},"id":"1068","type":"BasicTicker"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#8AD3AA"},"line_alpha":{"value":0.1},"line_color":{"value":"#8AD3AA"},"radius":{"units":"data","value":0},"x":{"value":0},"y":{"value":0}},"id":"1180","type":"Circle"},{"attributes":{},"id":"1340","type":"StringEditor"},{"attributes":{},"id":"1365","type":"Selection"},{"attributes":{"data":{},"selected":{"id":"1369"},"selection_policy":{"id":"1370"}},"id":"1049","type":"ColumnDataSource"},{"attributes":{"line_alpha":0,"line_color":"#64A580","x":{"field":"x"},"y":{"field":"blockedl_y"}},"id":"1201","type":"Line"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"1218"}]},"id":"1071","type":"Toolbar"},{"attributes":{},"id":"1364","type":"UnionRenderers"},{"attributes":{"line_alpha":{"field":"line_alpha"},"line_color":{"field":"line_color"},"line_width":{"value":4},"xs":{"field":"xs"},"ys":{"field":"ys"}},"id":"1023","type":"MultiLine"},{"attributes":{},"id":"1384","type":"UnionRenderers"},{"attributes":{"data_source":{"id":"1178"},"glyph":{"id":"1179"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1180"},"selection_glyph":null,"view":{"id":"1182"}},"id":"1181","type":"GlyphRenderer"},{"attributes":{"end":1,"format":"0[.]00","js_property_callbacks":{"change:value":[{"id":"1306"}]},"sizing_mode":"stretch_width","start":0,"step":0.01,"title":"RM Aim Weight","value":0.16666666666666666,"visible":false},"id":"1271","type":"Slider"},{"attributes":{"args":{"LL_aim_slider":{"id":"1267"},"LM_aim_slider":{"id":"1268"},"LR_aim_slider":{"id":"1269"},"RL_aim_slider":{"id":"1270"},"RM_aim_slider":{"id":"1271"},"RR_aim_slider":{"id":"1272"},"automation_table":{"id":"1297"},"b_automate":{"id":"1264"},"b_fl":{"id":"1258"},"b_fr":{"id":"1259"},"b_next":{"id":"1257"},"b_start":{"id":"1256"},"iterations_slider":{"id":"1273"},"strategy_dropdown":{"id":"1274"},"txt":{"id":"1220"}},"code":"\nb_automate.visible=false;\n\nb_start.visible=false;\nb_fl.visible=false;\nb_fr.visible=false;\nb_next.visible=false;\n\nLL_aim_slider.visible=true;\nLM_aim_slider.visible=true;\nLR_aim_slider.visible=true;\nRL_aim_slider.visible=true;\nRM_aim_slider.visible=true;\nRR_aim_slider.visible=true;\n\niterations_slider.visible=true;\n\nstrategy_dropdown.visible=true;\n\nautomation_table.visible=true;\n\ntxt.data['text'][2] = ''\ntxt.data['text'][3] = 'Choose a right- or left footed kicker!'\ntxt.change.emit()  \n"},"id":"1299","type":"CustomJS"},{"attributes":{},"id":"1352","type":"StringEditor"},{"attributes":{"data_source":{"id":"1022"},"glyph":{"id":"1023"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1024"},"selection_glyph":null,"view":{"id":"1026"}},"id":"1025","type":"GlyphRenderer"},{"attributes":{"text":"FIFA 2020 Penalty Simulator","text_font_size":{"value":"15pt"}},"id":"1003","type":"Title"},{"attributes":{"data_source":{"id":"1117"},"glyph":{"id":"1101"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1119"}},"id":"1118","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1049"}},"id":"1051","type":"CDSView"},{"attributes":{"editor":{"id":"1336"},"field":"footedness","formatter":{"id":"1335"},"title":"Striker Footedness"},"id":"1294","type":"TableColumn"},{"attributes":{"data":{},"selected":{"id":"1359"},"selection_policy":{"id":"1360"}},"id":"1027","type":"ColumnDataSource"},{"attributes":{},"id":"1381","type":"Selection"},{"attributes":{"line_alpha":0.1,"line_color":"#64A580","x":{"field":"x"},"y":{"field":"blockedl_y"}},"id":"1202","type":"Line"},{"attributes":{"data":{"line_alpha":[1,1,1],"line_color":["lightgreen","lightgreen","whitesmoke"],"xs":[[24,76,78,22,24],[3,12,88,97,3],[34,34,66,66]],"ys":[[63,63,47,47,63],[15,63,63,15,15],[63,82,82,63]]},"selected":{"id":"1357"},"selection_policy":{"id":"1358"}},"id":"1022","type":"ColumnDataSource"},{"attributes":{"source":{"id":"1194"}},"id":"1204","type":"CDSView"},{"attributes":{"end":90},"id":"1007","type":"Range1d"},{"attributes":{"data":{},"selected":{"id":"1427"},"selection_policy":{"id":"1428"}},"id":"1183","type":"ColumnDataSource"},{"attributes":{},"id":"1363","type":"Selection"},{"attributes":{"items":[{"id":"1189"},{"id":"1190"}],"location":[143,20],"orientation":"horizontal"},"id":"1188","type":"Legend"},{"attributes":{"axis":{"id":"1067"},"dimension":1,"grid_line_color":null,"ticker":null},"id":"1070","type":"Grid"},{"attributes":{"fill_color":{"value":"red"},"line_width":{"value":2},"size":{"units":"screen","value":17},"x":{"value":50},"y":{"value":69}},"id":"1032","type":"Circle"},{"attributes":{"end":100},"id":"1005","type":"Range1d"},{"attributes":{"fill_color":{"value":"#8AD3AA"},"line_color":{"value":"#8AD3AA"},"radius":{"units":"data","value":0},"x":{"value":0},"y":{"value":0}},"id":"1179","type":"Circle"},{"attributes":{},"id":"1360","type":"UnionRenderers"},{"attributes":{"data_source":{"id":"1194"},"glyph":{"id":"1206"},"hover_glyph":null,"muted_glyph":null,"name":"blockedm_y","nonselection_glyph":{"id":"1207"},"selection_glyph":null,"view":{"id":"1209"}},"id":"1208","type":"GlyphRenderer"},{"attributes":{"cx":{"value":50},"cy":{"value":2},"line_alpha":{"value":0.1},"line_color":{"value":"lightgreen"},"line_width":{"value":4},"x0":{"value":33},"x1":{"value":67},"y0":{"value":15},"y1":{"value":15}},"id":"1029","type":"Quadratic"},{"attributes":{},"id":"1353","type":"StringFormatter"},{"attributes":{"text":"0","visible":false},"id":"1237","type":"Div"},{"attributes":{"source":{"id":"1183"}},"id":"1187","type":"CDSView"},{"attributes":{},"id":"1382","type":"UnionRenderers"},{"attributes":{"args":{"game_stats_figure_1_source":{"id":"1194"}},"code":"\n\nvar x = special_vars.x; \nvar y = special_vars.y;\n\nvar modified_x;\nvar modified_y;\nvar index = 0;\n\nconst data = game_stats_figure_1_source.data;\n\nfor(var i = 6; i &gt;= 1; i--){\n    if(x &lt; i){\n        modified_x = (i - 0.5);\n        index = (3*i - 2);\n    }\n}\n\nvar closest_y;\n\nvar scored_val = data['scored_y'][index];\nvar blockedl_val = data['blockedl_y'][index];\nvar blockedm_val = data['blockedm_y'][index];\nvar blockedr_val = data['blockedr_y'][index];\n\nclosest_y = scored_val;\nvar hovering = \"Scored\";\n\nif((y &gt; closest_y \n    &amp;&amp; blockedl_val != scored_val)){\n    closest_y = blockedl_val;\n    hovering = \"Goalie Left\";\n}\nif((y &gt; closest_y\n    &amp;&amp; blockedm_val != blockedl_val)){\n    closest_y = blockedm_val;\n    hovering = \"Goalie Middle\";\n}\nif((y &gt; closest_y \n    &amp;&amp; blockedr_val != blockedm_val)){\n    closest_y = blockedr_val;\n    hovering = \"Goalie Right\";\n}\n\nreturn(hovering);\n\n"},"id":"1216","type":"CustomJSHover"},{"attributes":{},"id":"1354","type":"StringEditor"},{"attributes":{},"id":"1357","type":"Selection"},{"attributes":{},"id":"1379","type":"Selection"},{"attributes":{},"id":"1009","type":"LinearScale"},{"attributes":{"data":{"aim_direction":["Left","Middle","Right","Left","Middle","Right"],"chances":[0.16666666666666666,0.16666666666666666,0.16666666666666666,0.16666666666666666,0.16666666666666666,0.16666666666666666],"footedness":["Left","Left","Left","Right","Right","Right"]},"selected":{"id":"1333"},"selection_policy":{"id":"1334"}},"id":"1293","type":"ColumnDataSource"},{"attributes":{"fill_color":{"value":"red"},"height":{"units":"data","value":4},"line_width":{"value":2},"width":{"units":"data","value":3},"x":{"value":50},"y":{"value":65}},"id":"1033","type":"Rect"},{"attributes":{"source":{"id":"1117"}},"id":"1119","type":"CDSView"},{"attributes":{"line_alpha":0,"line_color":"#8AD3AA","x":{"field":"x"},"y":{"field":"blockedm_y"}},"id":"1206","type":"Line"},{"attributes":{"data_source":{"id":"1027"},"glyph":{"id":"1028"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1029"},"selection_glyph":null,"view":{"id":"1031"}},"id":"1030","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#CBEBD9"},"line_alpha":{"value":0.1},"line_color":{"value":"#CBEBD9"},"radius":{"units":"data","value":0},"x":{"value":0},"y":{"value":0}},"id":"1185","type":"Circle"},{"attributes":{},"id":"1355","type":"StringFormatter"},{"attributes":{},"id":"1011","type":"LinearScale"},{"attributes":{},"id":"1380","type":"UnionRenderers"},{"attributes":{},"id":"1356","type":"StringEditor"},{"attributes":{"data_source":{"id":"1183"},"glyph":{"id":"1184"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1185"},"selection_glyph":null,"view":{"id":"1187"}},"id":"1186","type":"GlyphRenderer"},{"attributes":{},"id":"1014","type":"BasicTicker"},{"attributes":{},"id":"1362","type":"UnionRenderers"},{"attributes":{},"id":"1358","type":"UnionRenderers"},{"attributes":{"data":{},"selected":{"id":"1395"},"selection_policy":{"id":"1396"}},"id":"1117","type":"ColumnDataSource"},{"attributes":{"args":{"b_start_automate":{"id":"1265"},"strategy_dropdown":{"id":"1274"},"strategy_to_use":{"id":"1231"}},"code":"\n    strategy_dropdown.label=this.item;\n    strategy_to_use.text=this.item;\n    b_start_automate.visible=true;\n"},"id":"1309","type":"CustomJS"},{"attributes":{"source":{"id":"1027"}},"id":"1031","type":"CDSView"},{"attributes":{"formatter":{"id":"1327"},"ticker":{"id":"1014"},"visible":false},"id":"1013","type":"LinearAxis"},{"attributes":{"button_type":"success","disabled":true,"icon":null,"js_event_callbacks":{"button_click":[{"id":"1287"}]},"label":"Left-Footed","sizing_mode":"scale_width","width_policy":"fit"},"id":"1258","type":"Button"},{"attributes":{"fill_color":{"value":"#8AD3AA"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":0.5},"y":{"value":0}},"id":"1120","type":"Rect"},{"attributes":{"fill_color":{"value":"#CBEBD9"},"line_color":{"value":"#CBEBD9"},"radius":{"units":"data","value":0},"x":{"value":0},"y":{"value":0}},"id":"1184","type":"Circle"},{"attributes":{"cx":{"value":50},"cy":{"value":2},"line_color":{"value":"lightgreen"},"line_width":{"value":4},"x0":{"value":33},"x1":{"value":67},"y0":{"value":15},"y1":{"value":15}},"id":"1028","type":"Quadratic"},{"attributes":{"fill_color":{"value":"#8AD3AA"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":4.5},"y":{"value":0}},"id":"1124","type":"Rect"},{"attributes":{"source":{"id":"1114"}},"id":"1116","type":"CDSView"},{"attributes":{"fill_color":{"value":"#8AD3AA"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":5.5},"y":{"value":0}},"id":"1125","type":"Rect"},{"attributes":{"fill_color":{"value":"#3F6750"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":4.5},"y":{"value":0}},"id":"1076","type":"Rect"},{"attributes":{"fill_color":{"value":"#3F6750"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":2.5},"y":{"value":0}},"id":"1074","type":"Rect"},{"attributes":{"data":{},"selected":{"id":"1397"},"selection_policy":{"id":"1398"}},"id":"1126","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"1270"}],"max_width":400,"sizing_mode":"stretch_width"},"id":"1317","type":"Row"},{"attributes":{"fill_color":{"value":"#3F6750"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":3.5},"y":{"value":0}},"id":"1075","type":"Rect"},{"attributes":{"fill_color":{"value":"#3F6750"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":5.5},"y":{"value":0}},"id":"1077","type":"Rect"},{"attributes":{"data":{},"selected":{"id":"1403"},"selection_policy":{"id":"1404"}},"id":"1135","type":"ColumnDataSource"},{"attributes":{},"id":"1348","type":"StringEditor"},{"attributes":{"data":{},"selected":{"id":"1399"},"selection_policy":{"id":"1400"}},"id":"1129","type":"ColumnDataSource"},{"attributes":{"data":{},"selected":{"id":"1373"},"selection_policy":{"id":"1374"}},"id":"1078","type":"ColumnDataSource"},{"attributes":{"data":{},"selected":{"id":"1361"},"selection_policy":{"id":"1362"}},"id":"1034","type":"ColumnDataSource"},{"attributes":{"data":{},"selected":{"id":"1375"},"selection_policy":{"id":"1376"}},"id":"1081","type":"ColumnDataSource"},{"attributes":{"args":{"b_fl":{"id":"1258"},"b_fr":{"id":"1259"},"b_next":{"id":"1257"},"b_shoot":{"id":"1263"},"b_start":{"id":"1256"},"ball":{"id":"1040"},"freq_left_foot":{"id":"1226"},"freq_right_foot":{"id":"1227"},"goalie_body":{"id":"1033"},"goalie_head":{"id":"1032"},"kicker_foot":{"id":"1228"},"kicker_kick":{"id":"1229"},"nround":{"id":"1224"},"score":{"id":"1225"},"txt":{"id":"1220"}},"code":"\n// Define probability matrix\nvar p = {'Right' : {'LeftLeft' : 0.55,\n                    'LeftMiddle' : 0.65,\n                    'LeftRight' : 0.93,\n                    'MiddleLeft' : 0.74,\n                    'MiddleMiddle' : 0.60,\n                    'MiddleRight' : 0.72,\n                    'RightLeft' : 0.95,\n                    'RightMiddle' : 0.73,\n                    'RightRight' : 0.70},\n         'Left' :  {'LeftLeft' : 0.67,\n                    'LeftMiddle' : 0.70,\n                    'LeftRight' : 0.96,\n                    'MiddleLeft' : 0.74,\n                    'MiddleMiddle' : 0.60,\n                    'MiddleRight' : 0.72,\n                    'RightLeft' : 0.87,\n                    'RightMiddle' : 0.65,\n                    'RightRight' : 0.61}}\n\n// Choose best action\nvar freq\nif (kicker_foot.text == 'Right') {\n    freq = freq_right_foot.text.split(',').map(Number);\n} else {\n    freq = freq_left_foot.text.split(',').map(Number);\n}\n\nvar kicker_action = 'Left'\nvar expected = (freq[0]*p[kicker_foot.text]['LeftLeft'] + \n                freq[1]*p[kicker_foot.text]['MiddleLeft'] +\n                freq[2]*p[kicker_foot.text]['RightLeft'])   \nvar actions = [\"Left\", \"Middle\", \"Right\"]\nfor (var i = 0; i &lt; 3; i++) {\n    var val = (freq[0]*p[kicker_foot.text]['Left'+actions[i]] + \n               freq[1]*p[kicker_foot.text]['Middle'+actions[i]] + \n               freq[2]*p[kicker_foot.text]['Right'+actions[i]])\n    if (val &lt; expected) {\n        kicker_action = actions[i]\n        expected = val\n    }\n}    \n\n// Determine if goal\nvar goal = 1\nif (Math.random() &gt; p[kicker_foot.text][kicker_kick.text+kicker_action]) {\n    goal = -1\n}\n\n// Animate ball and goalie\nball.x = {'Left' : 40, 'Middle' : 50, 'Right' : 60}[kicker_kick.text]\nball.y = 63\ngoalie_head.x = {'Left' : 40, 'Middle' : 50, 'Right' : 60}[kicker_action]\ngoalie_body.x = {'Left' : 40, 'Middle' : 50, 'Right' : 60}[kicker_action]\n\n// Add to frequency history\nvar dict = {'Left'  : 0,\n            'Middle' : 1,\n            'Right'   : 2}\nif (kicker_foot.text == 'Right') {\n    var freq = freq_right_foot.text.split(',')\n    freq[dict[kicker_kick.text]] = parseInt(freq[dict[kicker_kick.text]]) + 1\n    freq_right_foot.text = freq.toString()\n} else {\n    var freq = freq_left_foot.text.split(',')\n    freq[dict[kicker_kick.text]] = parseInt(freq[dict[kicker_kick.text]]) + 1\n    freq_left_foot.text = freq.toString()\n}\n\n// Update text\nvar n = (parseInt(nround.text) + 1)\nnround.text = n.toString()\ntxt.data['text'][0] = 'Rounds played: ' + n\n\nif (goal == 1) {\n    txt.data['text'][3] = 'GOAL!'\n} else {\n    txt.data['text'][3] = 'Blocked'\n}\n\nvar s = parseInt(score.text) + goal\nscore.text = s.toString()\ntxt.data['text'][1] = 'Total score: ' + s\n\ntxt.change.emit()\n\n// Allow starting next round\nb_shoot.disabled = true;\nb_next.disabled = false;\n"},"id":"1292","type":"CustomJS"},{"attributes":{"data_source":{"id":"1126"},"glyph":{"id":"1120"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1128"}},"id":"1127","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1135"}},"id":"1137","type":"CDSView"},{"attributes":{"data_source":{"id":"1081"},"glyph":{"id":"1073"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1083"}},"id":"1082","type":"GlyphRenderer"},{"attributes":{"data_source":{"id":"1078"},"glyph":{"id":"1072"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1080"}},"id":"1079","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1126"}},"id":"1128","type":"CDSView"},{"attributes":{"data":{},"selected":{"id":"1401"},"selection_policy":{"id":"1402"}},"id":"1132","type":"ColumnDataSource"},{"attributes":{"data_source":{"id":"1129"},"glyph":{"id":"1121"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1131"}},"id":"1130","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1078"}},"id":"1080","type":"CDSView"},{"attributes":{},"id":"1350","type":"StringEditor"},{"attributes":{},"id":"1349","type":"StringFormatter"},{"attributes":{"data":{},"selected":{"id":"1377"},"selection_policy":{"id":"1378"}},"id":"1084","type":"ColumnDataSource"},{"attributes":{"data":{},"selected":{"id":"1405"},"selection_policy":{"id":"1406"}},"id":"1138","type":"ColumnDataSource"},{"attributes":{"source":{"id":"1129"}},"id":"1131","type":"CDSView"},{"attributes":{"source":{"id":"1081"}},"id":"1083","type":"CDSView"},{"attributes":{"source":{"id":"1220"}},"id":"1223","type":"CDSView"},{"attributes":{"data":{},"selected":{"id":"1379"},"selection_policy":{"id":"1380"}},"id":"1087","type":"ColumnDataSource"},{"attributes":{"data_source":{"id":"1132"},"glyph":{"id":"1122"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1134"}},"id":"1133","type":"GlyphRenderer"},{"attributes":{"data_source":{"id":"1084"},"glyph":{"id":"1074"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1086"}},"id":"1085","type":"GlyphRenderer"},{"attributes":{"text_baseline":"ideographic","text_color":{"value":"whitesmoke"},"text_font_size":{"value":"15pt"},"x":{"field":"x"},"y":{"field":"y"},"y_offset":{"value":9}},"id":"1221","type":"Text"},{"attributes":{"data":{"text":["Rounds played: 0","Total score: 0","","",""],"x":[2,70,2,14,14],"y":[86,86,5,40,32]},"selected":{"id":"1371"},"selection_policy":{"id":"1372"}},"id":"1220","type":"ColumnDataSource"},{"attributes":{"source":{"id":"1132"}},"id":"1134","type":"CDSView"},{"attributes":{"data_source":{"id":"1220"},"glyph":{"id":"1221"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1223"}},"id":"1222","type":"GlyphRenderer"},{"attributes":{"data_source":{"id":"1135"},"glyph":{"id":"1123"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1137"}},"id":"1136","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1084"}},"id":"1086","type":"CDSView"},{"attributes":{"fill_color":{"value":"#CBEBD9"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":1.5},"y":{"value":0}},"id":"1145","type":"Rect"},{"attributes":{"data":{},"selected":{"id":"1381"},"selection_policy":{"id":"1382"}},"id":"1090","type":"ColumnDataSource"},{"attributes":{"args":{"b_fl":{"id":"1258"},"b_fr":{"id":"1259"},"b_start":{"id":"1256"},"bl":{"id":"1260"},"bm":{"id":"1261"},"br":{"id":"1262"},"kicker_foot":{"id":"1228"},"txt":{"id":"1220"}},"code":"\n    b_fl.disabled = true;\n    b_fr.disabled = true;\n    b_fl.visible = false;\n    b_fr.visible = false;\n    bl.visible = true;\n    bm.visible = true;\n    br.visible = true;\n    txt.data['text'][3] = 'Choose where to kick!'\n    txt.data['text'][2] = 'Left-footed kicker.'\n    kicker_foot.text= 'Left'\n    txt.change.emit()\n    "},"id":"1287","type":"CustomJS"},{"attributes":{"text":"0","visible":false},"id":"1233","type":"Div"},{"attributes":{"data_source":{"id":"1087"},"glyph":{"id":"1075"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1089"}},"id":"1088","type":"GlyphRenderer"},{"attributes":{"data":{},"selected":{"id":"1407"},"selection_policy":{"id":"1408"}},"id":"1141","type":"ColumnDataSource"},{"attributes":{"data_source":{"id":"1138"},"glyph":{"id":"1124"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1140"}},"id":"1139","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1087"}},"id":"1089","type":"CDSView"},{"attributes":{"data":{},"selected":{"id":"1383"},"selection_policy":{"id":"1384"}},"id":"1093","type":"ColumnDataSource"},{"attributes":{"args":{"b_fl":{"id":"1258"},"b_fr":{"id":"1259"},"b_start":{"id":"1256"},"bl":{"id":"1260"},"bm":{"id":"1261"},"br":{"id":"1262"},"kicker_foot":{"id":"1228"},"txt":{"id":"1220"}},"code":"\n    b_fl.disabled = true;\n    b_fr.disabled = true;\n    b_fl.visible = false;\n    b_fr.visible = false;\n    bl.visible = true;\n    bm.visible = true;\n    br.visible = true;\n    txt.data['text'][3] = 'Choose where to kick!'\n    txt.data['text'][2] = 'Right-footed kicker.'\n    kicker_foot.text= 'Right'\n    txt.change.emit()\n    "},"id":"1288","type":"CustomJS"},{"attributes":{"data_source":{"id":"1090"},"glyph":{"id":"1076"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1092"}},"id":"1091","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1138"}},"id":"1140","type":"CDSView"},{"attributes":{"fill_color":{"value":"#CBEBD9"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":0.5},"y":{"value":0}},"id":"1144","type":"Rect"},{"attributes":{"data_source":{"id":"1141"},"glyph":{"id":"1125"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1143"}},"id":"1142","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1090"}},"id":"1092","type":"CDSView"},{"attributes":{"data":{},"selected":{"id":"1393"},"selection_policy":{"id":"1394"}},"id":"1114","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"1256"},{"id":"1224"},{"id":"1258"},{"id":"1259"},{"id":"1263"},{"id":"1260"},{"id":"1261"},{"id":"1262"},{"id":"1225"},{"id":"1226"},{"id":"1227"},{"id":"1228"},{"id":"1229"},{"id":"1257"}],"max_width":600,"sizing_mode":"stretch_width"},"id":"1310","type":"Row"},{"attributes":{"fill_color":{"value":"#64A580"},"height":{"units":"data","value":0},"line_width":{"value":0},"width":{"units":"data","value":0.9},"x":{"value":0.5},"y":{"value":0}},"id":"1096","type":"Rect"},{"attributes":{"source":{"id":"1141"}},"id":"1143","type":"CDSView"},{"attributes":{"children":[{"id":"1264"},{"id":"1273"},{"id":"1266"}],"max_width":400,"sizing_mode":"stretch_width"},"id":"1311","type":"Row"},{"attributes":{"data_source":{"id":"1093"},"glyph":{"id":"1077"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1095"}},"id":"1094","type":"GlyphRenderer"},{"attributes":{},"id":"1351","type":"StringFormatter"},{"attributes":{},"id":"1413","type":"Selection"},{"attributes":{"args":{"game_stats_figure_1_source":{"id":"1194"}},"code":"\n\nvar x = special_vars.x; \nvar y = special_vars.y;\n\nvar modified_x;\nvar modified_y;\nvar index = 0;\n\nconst data = game_stats_figure_1_source.data;\n\nfor(var i = 6; i &gt;= 1; i--){\n    if(x &lt; i){\n        modified_x = (i - 0.5);\n        index = (3*i - 2);\n    }\n}\n\nvar closest_y;\n\nvar scored_val = data['scored_y'][index];\nvar blockedl_val = data['blockedl_y'][index];\nvar blockedm_val = data['blockedm_y'][index];\nvar blockedr_val = data['blockedr_y'][index];\n\nclosest_y = scored_val;\n\nif((y &gt; closest_y \n    &amp;&amp; blockedl_val != scored_val)){\n    closest_y = blockedl_val;\n}\nif((y &gt; closest_y\n    &amp;&amp; blockedm_val != blockedl_val)){\n    closest_y = blockedm_val;\n}\nif((y &gt; closest_y \n    &amp;&amp; blockedr_val != blockedm_val)){\n    closest_y = blockedr_val;\n}\n\n\nmodified_y = closest_y;\n\nreturn(\"(\"+modified_x.toString()+\",\"+modified_y.toString()+\")\");\n\n"},"id":"1215","type":"CustomJSHover"},{"attributes":{},"id":"1397","type":"Selection"},{"attributes":{},"id":"1426","type":"UnionRenderers"},{"attributes":{"children":[{"id":"1311"},{"id":"1312"},{"id":"1313"},{"id":"1314"},{"id":"1315"},{"id":"1316"},{"id":"1317"},{"id":"1318"},{"id":"1319"},{"id":"1297"},{"id":"1283"}],"max_width":761,"min_width":761,"sizing_mode":"stretch_width"},"id":"1321","type":"Column"},{"attributes":{"line_alpha":0,"line_color":"#CBEBD9","x":{"field":"x"},"y":{"field":"blockedr_y"}},"id":"1211","type":"Line"},{"attributes":{},"id":"1414","type":"UnionRenderers"},{"attributes":{},"id":"1398","type":"UnionRenderers"},{"attributes":{"children":[[{"id":"1322"},0,0]]},"id":"1433","type":"GridBox"},{"attributes":{"children":[{"id":"1320"},{"id":"1321"}],"max_width":1400,"sizing_mode":"stretch_width"},"id":"1322","type":"Row"},{"attributes":{"line_alpha":0.1,"line_color":"#CBEBD9","x":{"field":"x"},"y":{"field":"blockedr_y"}},"id":"1212","type":"Line"},{"attributes":{"source":{"id":"1194"}},"id":"1214","type":"CDSView"},{"attributes":{},"id":"1411","type":"Selection"},{"attributes":{},"id":"1412","type":"UnionRenderers"},{"attributes":{},"id":"1425","type":"Selection"},{"attributes":{"source":{"id":"1022"}},"id":"1026","type":"CDSView"},{"attributes":{},"id":"1423","type":"Selection"},{"attributes":{"callback":null,"formatters":{"@hoverhovering":{"id":"1216"},"@hovershow":{"id":"1217"},"@hoverxy":{"id":"1215"}},"mode":"vline","tooltips":"\n\n    &lt;div @hovershow{custom}&gt;\n        &lt;span style='font-size: 10px;'&gt;Closest Data Coords:&lt;/span&gt;\n        &lt;span style='font-size: 10px;'&gt;@hoverxy{custom}&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div @hovershow{custom}&gt;\n        &lt;span style='font-size: 10px;'&gt;Closest Data:&lt;/span&gt;\n        &lt;span style='font-size: 10px;'&gt;@hoverhovering{custom}&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div @hovershow{custom}&gt;\n        &lt;span style='font-size: 10px;'&gt;Hovered (x,y):&lt;/span&gt;\n        &lt;span style='font-size: 10px;'&gt;($x,$y)&lt;/span&gt;\n    &lt;/div&gt;\n\n"},"id":"1218","type":"HoverTool"},{"attributes":{},"id":"1325","type":"BasicTickFormatter"},{"attributes":{},"id":"1415","type":"Selection"},{"attributes":{"args":{"b_fl":{"id":"1258"},"b_fr":{"id":"1259"},"b_next":{"id":"1257"},"b_shoot":{"id":"1263"},"b_start":{"id":"1256"},"ball":{"id":"1040"},"bl":{"id":"1260"},"bm":{"id":"1261"},"br":{"id":"1262"},"goalie_body":{"id":"1033"},"goalie_head":{"id":"1032"},"txt":{"id":"1220"}},"code":"\nb_shoot.visible = false;\n\nb_fr.visible = true;\nb_fl.visible = true;\nb_fr.disabled = false;\nb_fl.disabled = false;\n\nbl.visible = false;\nbm.visible = false;\nbr.visible = false;\n\nb_next.disabled = true;\n\ntxt.data['text'][2] = ''\ntxt.data['text'][3] = 'Choose a right- or left footed kicker!'\ntxt.change.emit()  \n\nball.x = 50\nball.y = 13\ngoalie_head.x = 50\ngoalie_body.x = 50\n"},"id":"1285","type":"CustomJS"},{"attributes":{},"id":"1424","type":"UnionRenderers"},{"attributes":{},"id":"1410","type":"UnionRenderers"},{"attributes":{},"id":"1422","type":"UnionRenderers"},{"attributes":{},"id":"1327","type":"BasicTickFormatter"},{"attributes":{},"id":"1416","type":"UnionRenderers"},{"attributes":{"args":{"b_fl":{"id":"1258"},"b_fr":{"id":"1259"},"b_next":{"id":"1257"},"b_shoot":{"id":"1263"},"b_start":{"id":"1256"},"ball":{"id":"1040"},"bl":{"id":"1260"},"bm":{"id":"1261"},"br":{"id":"1262"},"freq_left_foot":{"id":"1226"},"freq_right_foot":{"id":"1227"},"goalie_body":{"id":"1033"},"goalie_head":{"id":"1032"},"kicker_foot":{"id":"1228"},"kicker_kick":{"id":"1229"},"nround":{"id":"1224"},"score":{"id":"1225"},"txt":{"id":"1220"}},"code":"\nb_shoot.visible = false;\n\nb_fr.visible = true;\nb_fl.visible = true;\nb_fr.disabled = false;\nb_fl.disabled = false;\n\nbl.visible = false;\nbm.visible = false;\nbr.visible = false;\n\nb_next.disabled = true;\n\ntxt.data['text'][2] = ''\ntxt.data['text'][3] = 'Choose a right- or left footed kicker!'\ntxt.change.emit()  \n\nball.x = 50\nball.y = 13\ngoalie_head.x = 50\ngoalie_body.x = 50\n\nif (b_start.label == 'Begin') {\n    b_start.label = 'Restart'\n} else {\n    txt.data['text'][0] = 'Rounds played: 0'\n    txt.data['text'][1] = 'Total score: 0'\n    txt.data['text'][2] = ''\n    txt.data['text'][3] = ''\n    txt.data['text'][4] = ''\n    nround.text='0'\n    score.text='0'\n    freq_left_foot.text='0,0,0'\n    freq_right_foot.text='0,0,0'\n    kicker_foot.text=''\n    kicker_kick.text=''\n    txt.change.emit() \n    b_start.label = 'Begin'\n}\n"},"id":"1286","type":"CustomJS"},{"attributes":{},"id":"1407","type":"Selection"},{"attributes":{},"id":"1403","type":"Selection"},{"attributes":{},"id":"1421","type":"Selection"},{"attributes":{},"id":"1406","type":"UnionRenderers"},{"attributes":{"args":{"game_stats_figure_1_source":{"id":"1194"}},"code":"\n\nvar index = special_vars.index;\nconst data = game_stats_figure_1_source.data;\n\nif(data['hovershow'][index] == 0){\n    return \" hidden \";\n}\n\nvar y = special_vars.y;\n\nvar closest_y;\n\nvar scored_val = data['scored_y'][index];\nvar blockedl_val = data['blockedl_y'][index];\nvar blockedm_val = data['blockedm_y'][index];\nvar blockedr_val = data['blockedr_y'][index];\n\nclosest_y = scored_val;\nvar hovering = \"scored_y\";\n\nif((y &gt; closest_y \n    &amp;&amp; blockedl_val != scored_val)){\n    closest_y = blockedl_val;\n    hovering = \"blockedl_y\";\n}\nif((y &gt; closest_y\n    &amp;&amp; blockedm_val != blockedl_val)){\n    closest_y = blockedm_val;\n    hovering = \"blockedm_y\";\n}\nif((y &gt; closest_y \n    &amp;&amp; blockedr_val != blockedm_val)){\n    closest_y = blockedr_val;\n    hovering = \"blockedr_y\";\n}\n\nif(special_vars.name != hovering){\n    return \" hidden \";\n}\n\nreturn \" \";\n"},"id":"1217","type":"CustomJSHover"},{"attributes":{},"id":"1405","type":"Selection"},{"attributes":{"data_source":{"id":"1194"},"glyph":{"id":"1211"},"hover_glyph":null,"muted_glyph":null,"name":"blockedr_y","nonselection_glyph":{"id":"1212"},"selection_glyph":null,"view":{"id":"1214"}},"id":"1213","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.1,"line_color":"#3F6750","x":{"field":"x"},"y":{"field":"scored_y"}},"id":"1197","type":"Line"},{"attributes":{},"id":"1408","type":"UnionRenderers"},{"attributes":{"args":{"ColumnDataSourceToChange":{"id":"1293"},"LL_aim_slider":{"id":"1267"},"LM_aim_slider":{"id":"1268"},"LR_aim_slider":{"id":"1269"},"RL_aim_slider":{"id":"1270"},"RM_aim_slider":{"id":"1271"},"RR_aim_slider":{"id":"1272"}},"code":"\n    var data=ColumnDataSourceToChange.data\n    var chances=data['chances']\n    \n    var total=0\n    total+=LL_aim_slider.value\n    total+=LM_aim_slider.value\n    total+=LR_aim_slider.value\n    total+=RL_aim_slider.value\n    total+=RM_aim_slider.value\n    total+=RR_aim_slider.value\n    \n    chances[0]=LL_aim_slider.value/total\n    chances[1]=LM_aim_slider.value/total\n    chances[2]=LR_aim_slider.value/total\n    chances[3]=RL_aim_slider.value/total\n    chances[4]=RM_aim_slider.value/total\n    chances[5]=RR_aim_slider.value/total\n    \n    ColumnDataSourceToChange.change.emit()\n"},"id":"1307","type":"CustomJS"},{"attributes":{},"id":"1395","type":"Selection"},{"attributes":{},"id":"1404","type":"UnionRenderers"},{"attributes":{"children":[{"id":"1272"}],"max_width":400,"sizing_mode":"stretch_width"},"id":"1319","type":"Row"},{"attributes":{},"id":"1396","type":"UnionRenderers"},{"attributes":{},"id":"1429","type":"Selection"},{"attributes":{},"id":"1393","type":"Selection"},{"attributes":{},"id":"1430","type":"UnionRenderers"},{"attributes":{},"id":"1394","type":"UnionRenderers"},{"attributes":{"children":[{"id":"1435"},{"id":"1433"}]},"id":"1436","type":"Column"},{"attributes":{},"id":"1391","type":"Selection"},{"attributes":{"children":[{"id":"1269"}],"max_width":400,"sizing_mode":"stretch_width"},"id":"1316","type":"Row"},{"attributes":{},"id":"1427","type":"Selection"},{"attributes":{},"id":"1392","type":"UnionRenderers"},{"attributes":{},"id":"1419","type":"Selection"},{"attributes":{"children":[{"id":"1002"},{"id":"1052"},{"id":"1310"}],"max_width":600,"sizing_mode":"stretch_width"},"id":"1320","type":"Column"},{"attributes":{},"id":"1401","type":"Selection"},{"attributes":{},"id":"1390","type":"UnionRenderers"},{"attributes":{},"id":"1389","type":"Selection"},{"attributes":{},"id":"1331","type":"BasicTickFormatter"},{"attributes":{},"id":"1420","type":"UnionRenderers"},{"attributes":{},"id":"1402","type":"UnionRenderers"},{"attributes":{"children":[{"id":"1274"}],"max_width":400,"sizing_mode":"stretch_width"},"id":"1312","type":"Row"},{"attributes":{"args":{"game_stats_figure_1":{"id":"1052"},"iterations_to_run":{"id":"1230"}},"code":"\n    var iterations=parseInt(iterations_to_run.text);\n    iterations=cb_obj.value;\n    iterations_to_run.text=iterations.toString();\n    game_stats_figure_1.y_range.end=iterations\n"},"id":"1308","type":"CustomJS"},{"attributes":{},"id":"1428","type":"UnionRenderers"},{"attributes":{"children":[{"id":"1268"}],"max_width":400,"sizing_mode":"stretch_width"},"id":"1315","type":"Row"},{"attributes":{},"id":"1400","type":"UnionRenderers"},{"attributes":{"children":[{"id":"1267"}],"max_width":400,"sizing_mode":"stretch_width"},"id":"1314","type":"Row"},{"attributes":{},"id":"1418","type":"UnionRenderers"},{"attributes":{},"id":"1409","type":"Selection"},{"attributes":{"toolbar":{"id":"1434"},"toolbar_location":"above"},"id":"1435","type":"ToolbarBox"},{"attributes":{},"id":"1329","type":"BasicTickFormatter"},{"attributes":{"args":{"ChancesColumnDataSource":{"id":"1293"},"DistributionColumnDataSource":{"id":"1275"},"LL_aim_slider":{"id":"1267"},"LM_aim_slider":{"id":"1268"},"LR_aim_slider":{"id":"1269"},"RL_aim_slider":{"id":"1270"},"RM_aim_slider":{"id":"1271"},"RR_aim_slider":{"id":"1272"},"automation_distribution_table":{"id":"1283"},"automation_table":{"id":"1297"},"b_auto_next":{"id":"1266"},"b_automate":{"id":"1264"},"b_fl":{"id":"1258"},"b_fr":{"id":"1259"},"b_next":{"id":"1257"},"b_start":{"id":"1256"},"b_start_automate":{"id":"1265"},"ball":{"id":"1040"},"game_figure":{"id":"1002"},"game_stats_figure_1":{"id":"1052"},"game_stats_figure_1_source":{"id":"1194"},"goalie_body":{"id":"1033"},"goalie_head":{"id":"1032"},"iterations_slider":{"id":"1273"},"iterations_to_run":{"id":"1230"},"ll_blocked_left":{"id":"1238"},"ll_blocked_left_bar":{"id":"1096"},"ll_blocked_middle":{"id":"1244"},"ll_blocked_middle_bar":{"id":"1120"},"ll_blocked_right":{"id":"1250"},"ll_blocked_right_bar":{"id":"1144"},"ll_scored":{"id":"1232"},"ll_scored_bar":{"id":"1072"},"lm_blocked_left":{"id":"1239"},"lm_blocked_left_bar":{"id":"1097"},"lm_blocked_middle":{"id":"1245"},"lm_blocked_middle_bar":{"id":"1121"},"lm_blocked_right":{"id":"1251"},"lm_blocked_right_bar":{"id":"1145"},"lm_scored":{"id":"1233"},"lm_scored_bar":{"id":"1073"},"lr_blocked_left":{"id":"1240"},"lr_blocked_left_bar":{"id":"1098"},"lr_blocked_middle":{"id":"1246"},"lr_blocked_middle_bar":{"id":"1122"},"lr_blocked_right":{"id":"1252"},"lr_blocked_right_bar":{"id":"1146"},"lr_scored":{"id":"1234"},"lr_scored_bar":{"id":"1074"},"nround":{"id":"1224"},"rl_blocked_left":{"id":"1241"},"rl_blocked_left_bar":{"id":"1099"},"rl_blocked_middle":{"id":"1247"},"rl_blocked_middle_bar":{"id":"1123"},"rl_blocked_right":{"id":"1253"},"rl_blocked_right_bar":{"id":"1147"},"rl_scored":{"id":"1235"},"rl_scored_bar":{"id":"1075"},"rm_blocked_left":{"id":"1242"},"rm_blocked_left_bar":{"id":"1100"},"rm_blocked_middle":{"id":"1248"},"rm_blocked_middle_bar":{"id":"1124"},"rm_blocked_right":{"id":"1254"},"rm_blocked_right_bar":{"id":"1148"},"rm_scored":{"id":"1236"},"rm_scored_bar":{"id":"1076"},"rr_blocked_left":{"id":"1243"},"rr_blocked_left_bar":{"id":"1101"},"rr_blocked_middle":{"id":"1249"},"rr_blocked_middle_bar":{"id":"1125"},"rr_blocked_right":{"id":"1255"},"rr_blocked_right_bar":{"id":"1149"},"rr_scored":{"id":"1237"},"rr_scored_bar":{"id":"1077"},"score":{"id":"1225"},"strategy_dropdown":{"id":"1274"},"strategy_to_use":{"id":"1231"},"txt":{"id":"1220"}},"code":"\n\nb_start_automate.visible=false;\nb_auto_next.visible=true;\n\nLL_aim_slider.visible=false;\nLM_aim_slider.visible=false;\nLR_aim_slider.visible=false;\nRL_aim_slider.visible=false;\nRM_aim_slider.visible=false;\nRR_aim_slider.visible=false;\n\niterations_slider.visible=false;\n\nstrategy_dropdown.visible=false;\n\nautomation_table.visible=false;\nautomation_distribution_table.visible=true;\n\n\n\n// Define probability matrix\nvar p = {'Right' : {'LeftLeft' : 0.55,\n                    'LeftMiddle' : 0.65,\n                    'LeftRight' : 0.93,\n                    'MiddleLeft' : 0.74,\n                    'MiddleMiddle' : 0.60,\n                    'MiddleRight' : 0.72,\n                    'RightLeft' : 0.95,\n                    'RightMiddle' : 0.73,\n                    'RightRight' : 0.70},\n         'Left' :  {'LeftLeft' : 0.67,\n                    'LeftMiddle' : 0.70,\n                   'LeftRight' : 0.96,\n                    'MiddleLeft' : 0.74,\n                    'MiddleMiddle' : 0.60,\n                    'MiddleRight' : 0.72,\n                    'RightLeft' : 0.87,\n                    'RightMiddle' : 0.65,\n                    'RightRight' : 0.61}}\n\n//Obtain the Shot Aim chances from the column data source\n    var chances_data=ChancesColumnDataSource.data\n    var chances=chances_data['chances']\n    var LL_chance=chances[0]\n    var LM_chance=LL_chance+chances[1]\n    var LR_chance=LM_chance+chances[2]\n    var RL_chance=LR_chance+chances[3]\n    var RM_chance=RL_chance+chances[4]\n\n//Goalie Logic Decision Making Variables\n    var chance_left=1/3;\n    var chance_middle=1/3;\n    var chance_right=1/3;\n\n    var danger_goalie_left=0;\n    var danger_goalie_middle=0;\n    var danger_goalie_right=0;\n    var selected_dict=0;\n\n    var total_sample_rolls\n\n    var goalie_action=\"None\"\n\n//Loop Randomness Variable\n    var roll=0;\n\n//Goalie Fictitious Learning Variables\n    var selected_index=0;\n\n    var dist_data=DistributionColumnDataSource.data\n    var freq=dist_data['freq']\n    var decisions=dist_data['decisions']\n\n//Data Display Variables\n    var perceived_risks=dist_data['goalie_perceived_risks']\n    var scoring_chance=dist_data['striker_score_chance']\n    var scoring_roll=dist_data['striker_score_roll']\n\n//Striker Kick Choice Variables\n    var kicker_foot='none'\n    var kicker_kick='none'\n\n//Scoring Variables\n    var score_chance=0\n    var goal=1\n\n//Animation Variables\n    var animation_positions = {'Left':[37, 43], 'Middle':[47,53], 'Right':[57, 63]}\n    var bally=63\n\n\n\n//Handle Automated Selection\nroll=Math.random();    \n    \nif(roll&lt;=LL_chance){\n    kicker_foot='Left'\n    kicker_kick='Left'\n}\nelse if(roll&lt;=LM_chance){\n    kicker_foot='Left'\n    kicker_kick='Middle'\n}\nelse if(roll&lt;=LR_chance){\n    kicker_foot='Left'\n    kicker_kick='Right'\n}\nelse if(roll&lt;=RL_chance){\n    kicker_foot='Right'\n    kicker_kick='Left'\n}\nelse if(roll&lt;=RM_chance){\n    kicker_foot='Right'\n    kicker_kick='Middle'\n}\nelse{\n    kicker_foot='Right'\n    kicker_kick='Right'\n}\n\n\n\nif(strategy_to_use.text==\"Fictitious_Play\"){\n    \n\n//Handle Goalie Decision\n\nif(kicker_foot=='Left'){\n    total_sample_rolls=freq[0]+freq[1]+freq[2]\n    selected_dict=p['Left']\n    if(total_sample_rolls==0){\n        chance_left=1/3\n        chance_middle=1/3\n        chance_right=1/3\n    }\n    else{\n        chance_left=freq[0]/total_sample_rolls\n        chance_middle=freq[1]/total_sample_rolls\n        chance_right=freq[2]/total_sample_rolls\n    }\n}\nelse{\n    total_sample_rolls=freq[3]+freq[4]+freq[5]\n    selected_dict=p['Right']\n    if(total_sample_rolls==0){\n        chance_left=1/3\n        chance_middle=1/3\n        chance_right=1/3\n    }\n    else{\n        chance_left=freq[3]/total_sample_rolls\n        chance_middle=freq[4]/total_sample_rolls\n        chance_right=freq[5]/total_sample_rolls\n    }\n}\ndanger_goalie_left=(chance_left*selected_dict['LeftLeft']+chance_middle*selected_dict['MiddleLeft']+chance_right*selected_dict['RightLeft']);\ndanger_goalie_middle=(chance_left*selected_dict['LeftMiddle']+chance_middle*selected_dict['MiddleMiddle']+chance_right*selected_dict['RightMiddle'])\ndanger_goalie_right=(chance_left*selected_dict['LeftRight']+chance_middle*selected_dict['MiddleRight']+chance_right*selected_dict['RightRight'])\n    \n\nif(danger_goalie_left&lt;danger_goalie_middle){\n    if(danger_goalie_left&lt;danger_goalie_right){\n        goalie_action=\"Left\"\n    }\n    else if(danger_goalie_left==danger_goalie_right){\n        roll=Math.random()\n        if(roll&lt;=0.5){\n            goalie_action=\"Left\"\n        }\n        else{\n            goalie_action=\"Right\"\n        }\n    }\n    else{\n        goalie_action=\"Right\"\n    }\n}\nelse if (danger_goalie_left==danger_goalie_middle){\n    roll=Math.random()\n    if(roll&lt;=0.5){\n        goalie_action=\"Left\"\n    }\n    else{\n        goalie_action=\"Middle\"\n    }\n}\nelse{\n    if(danger_goalie_middle&lt;danger_goalie_right){\n        goalie_action=\"Middle\"\n    }\n    else if(danger_goalie_middle==danger_goalie_right){\n        roll=Math.random()\n        if(roll&lt;=0.5){\n            goalie_action=\"Middle\"\n        }\n        else{\n            goalie_action=\"Right\"\n        }\n    }\n    else{\n        goalie_action=\"Right\"\n    }    \n}\n\n\n}\nelse{\n    \n\nroll=Math.random()\nif(kicker_foot=='Left'){\n    if(roll&lt;=0.8){\n        goalie_action=\"Middle\"\n    }\n    else{\n        goalie_action=\"Left\"\n    }\n}\nelse if(kicker_foot=='Right'){\n    if(roll&lt;=0.7419){\n        goalie_action=\"Middle\"\n    }\n    else{\n        goalie_action=\"Right\"\n    }\n\n}\n\n\n}\n\n\n\n\n//Handle Score Chance:\n    \nroll=Math.random()\nscore_chance=p[kicker_foot][kicker_kick+goalie_action]\nif(roll&lt;=score_chance){\n    goal=1\n}\nelse{\n    goal=-1\n}\n//Display Score Chance:\n\nfor(var i=0; i&lt;=5; i++){\n    scoring_chance[i]=0;\n    scoring_roll[i]=0;\n}\n\nselected_index=0\nif(kicker_foot=='Right'){\n    selected_index+=3\n}\nif(kicker_kick=='Middle'){\n    selected_index+=1\n}\nelse if(kicker_kick=='Right'){\n    selected_index+=2\n}\n\nscoring_chance[selected_index]=score_chance\nscoring_roll[selected_index]=roll.toString().substring(0,8);\n\n// Update text\n    \nvar n = (parseInt(nround.text) + 1)\nif(n&gt;=parseInt(iterations_to_run.text)){\n    b_auto_next.visible=false;\n    game_figure.visible=false;\n    automation_distribution_table.visible=false;\n    game_stats_figure_1.visible=true;\n}\nnround.text = n.toString()\n    \nvar s = parseInt(score.text) + goal\nscore.text = s.toString()\n\n\n\n//Animate Scenario:\n\nvar animation_roll=0;\nvar animation_slot=0;\nanimation_roll=Math.random()\n\nif(animation_roll&lt;=0.5){\n    animation_slot=1;\n}\n\nball.x = animation_positions[kicker_kick][animation_slot]\nball.y = bally\n\nif(goal==-1){\n    if(goalie_action==kicker_kick){\n        goalie_head.x = ball.x\n        goalie_body.x = ball.x\n    }\n    else{\n        if(kicker_kick==\"Right\"){\n            ball.x=70\n        }\n        else if(kicker_kick==\"Left\"){\n            ball.x=30\n        }\n        else{\n            ball.x=[30,70][animation_slot]\n        }\n    }\n\n}\nelse{\n    if(goalie_action==kicker_kick){\n        if(animation_slot==1){\n            goalie_head.x=animation_positions[goalie_action][0]\n            goalie_body.x=animation_positions[goalie_action][0]\n        }\n        else{\n            goalie_head.x=animation_positions[goalie_action][1]\n            goalie_body.x=animation_positions[goalie_action][1]\n        }\n    }else{\n        if(animation_roll&lt;=0.5){\n            animation_slot=1;\n        }else{\n            animation_slot=0;\n        }\n        goalie_head.x=animation_positions[goalie_action][animation_slot]\n        goalie_body.x=animation_positions[goalie_action][animation_slot]\n    }\n}\n\n\n\n//Update Goalie Frequency Tracking:\n    \nselected_index=0\nif(kicker_foot=='Right'){\n    selected_index+=3\n}\nif(kicker_kick=='Middle'){\n    selected_index+=1\n}\nelse if(kicker_kick=='Right'){\n    selected_index+=2\n}\n    \nfreq[selected_index]+=1\n\n//Update Goalie Decision Tracking:\n    \nselected_index=0\nif(kicker_foot=='Right'){\n    selected_index+=3\n}\nif(goalie_action=='Middle'){\n    selected_index+=1\n}\nelse if(goalie_action=='Right'){\n    selected_index+=2\n}\n    \ndecisions[selected_index]+=1\n\nif(strategy_to_use.text==\"Fictitious_Play\"){\n\n    //Update Goalie Perceived Risks:\n\n    selected_index=0\n    if(kicker_foot=='Right'){\n        selected_index+=3\n    }\n    for(var i=0; i&lt;=5; i++){\n        perceived_risks[i]=0\n    }\n    perceived_risks[selected_index]=danger_goalie_left.toString().substring(0,8);\n    perceived_risks[selected_index+1]=danger_goalie_middle.toString().substring(0,8);\n    perceived_risks[selected_index+2]=danger_goalie_right.toString().substring(0,8);\n    \n}\n\n\n\nvar selected_bar = 0;\n\nvar scored_bars = [ll_scored_bar, lm_scored_bar, lr_scored_bar, \n                   rl_scored_bar, rm_scored_bar, rr_scored_bar];\nvar scored_texts = [ll_scored, lm_scored, lr_scored, \n                    rl_scored, rm_scored, rr_scored];\n                    \nvar blockedl_bars = [ll_blocked_left_bar, lm_blocked_left_bar, lr_blocked_left_bar,\n                     rl_blocked_left_bar, rm_blocked_left_bar, rr_blocked_left_bar];\nvar blockedl_texts = [ll_blocked_left, lm_blocked_left, lr_blocked_left, \n                      rl_blocked_left, rm_blocked_left, rr_blocked_left];\n\nvar blockedm_bars = [ll_blocked_middle_bar, lm_blocked_middle_bar, lr_blocked_middle_bar, \n                     rl_blocked_middle_bar, rm_blocked_middle_bar, rr_blocked_middle_bar];\nvar blockedm_texts = [ll_blocked_middle, lm_blocked_middle, lr_blocked_middle, \n                      rl_blocked_middle, rm_blocked_middle, rr_blocked_middle];\n\nvar blockedr_bars = [ll_blocked_right_bar, lm_blocked_right_bar, lr_blocked_right_bar, \n                     rl_blocked_right_bar, rm_blocked_right_bar, rr_blocked_right_bar];\nvar blockedr_texts = [ll_blocked_right, lm_blocked_right, lr_blocked_right, \n                      rl_blocked_right, rm_blocked_right, rr_blocked_right];\n\n\n\nif (kicker_foot == 'Right'){\n    selected_bar += 3;\n}\n\nif(kicker_kick == 'Middle'){\n    selected_bar += 1;\n}\nelse if(kicker_kick == 'Right'){\n    selected_bar += 2;\n}\n\n\n\nif(goal == 1){\n\n    var new_score = parseInt(scored_texts[selected_bar].text);\n    new_score += 1;\n    scored_texts[selected_bar].text = new_score.toString();\n\n}\nelse{\n\n    if(goalie_action == 'Left'){ \n        var new_blockedl = parseInt(blockedl_texts[selected_bar].text);\n        new_blockedl += 1;\n        blockedl_texts[selected_bar].text = new_blockedl.toString();\n    }\n    else if(goalie_action == 'Middle'){\n        var new_blockedm = parseInt(blockedm_texts[selected_bar].text);\n        new_blockedm += 1;\n        blockedm_texts[selected_bar].text = new_blockedm.toString();\n    }\n    else{\n        var new_blockedr = parseInt(blockedr_texts[selected_bar].text);\n        new_blockedr += 1;\n        blockedr_texts[selected_bar].text = new_blockedr.toString();\n    }\n}\n\n\n\nvar scored_bar_height = parseInt(scored_texts[selected_bar].text);\nscored_bars[selected_bar].height = scored_bar_height;\nscored_bars[selected_bar].y = scored_bar_height / 2;\n\nvar blockedl_bar_height = parseInt(blockedl_texts[selected_bar].text);\nblockedl_bars[selected_bar].height = blockedl_bar_height;\nblockedl_bars[selected_bar].y = scored_bar_height + blockedl_bar_height/2;\n\nvar blockedm_bar_height = parseInt(blockedm_texts[selected_bar].text);\nblockedm_bars[selected_bar].height = blockedm_bar_height;\nblockedm_bars[selected_bar].y = scored_bar_height + blockedl_bar_height + blockedm_bar_height/2;\n\nvar blockedr_bar_height = parseInt(blockedr_texts[selected_bar].text);\nblockedr_bars[selected_bar].height = blockedr_bar_height;\nblockedr_bars[selected_bar].y = scored_bar_height + blockedl_bar_height + blockedm_bar_height + blockedr_bar_height/2;\n\n\nvar new_graph_height = 0;\nfor (var i = 0; i &lt;= 5; i++){\n    var possible_graph_height = (Math.round((parseInt(scored_texts[i].text)\n                                             + parseInt(blockedl_texts[i].text)\n                                             + parseInt(blockedm_texts[i].text)\n                                             + parseInt(blockedr_texts[i].text))\n                                            * 5/4));\n    if(possible_graph_height &gt; new_graph_height){\n       new_graph_height = possible_graph_height;\n    }\n    game_stats_figure_1.y_range.end = new_graph_height;\n}\n\n\nif(parseInt(nround.text) &gt;= parseInt(iterations_to_run.text)){\n    const fig_1_data = game_stats_figure_1_source.data;\n    \n    for (var i = 0; i &lt;= 5; i++){\n        var scored_y_height = parseInt(scored_texts[i].text);\n        var blockedl_height = parseInt(blockedl_texts[i].text) + scored_y_height;\n        var blockedm_height = parseInt(blockedm_texts[i].text) + blockedl_height;\n        var blockedr_height = parseInt(blockedr_texts[i].text) + blockedm_height;\n        \n        fig_1_data['scored_y'][i*3] = scored_y_height;\n        fig_1_data['scored_y'][i*3 + 1] = scored_y_height;\n        fig_1_data['scored_y'][i*3 + 2] = scored_y_height;\n        \n        fig_1_data['blockedl_y'][i*3] = blockedl_height;\n        fig_1_data['blockedl_y'][i*3 + 1] = blockedl_height;\n        fig_1_data['blockedl_y'][i*3 + 2] = blockedl_height;\n        \n        fig_1_data['blockedm_y'][i*3] = blockedm_height;\n        fig_1_data['blockedm_y'][i*3 + 1] = blockedm_height;\n        fig_1_data['blockedm_y'][i*3 + 2] = blockedm_height;\n        \n        fig_1_data['blockedr_y'][i*3] = blockedr_height;\n        fig_1_data['blockedr_y'][i*3 + 1] = blockedr_height;\n        fig_1_data['blockedr_y'][i*3 + 2] = blockedr_height;\n    }\n    \n    game_stats_figure_1_source.change.emit();\n}\n\n\ntxt.data['text'][0] = 'Rounds played: ' + n\n\nif (goal == 1) {\n    txt.data['text'][3] = 'GOAL!'\n} \nelse {\n    txt.data['text'][3] = 'Blocked'\n}\ntxt.data['text'][1] = 'Total score: ' + s\n\ntxt.change.emit()\n\nDistributionColumnDataSource.change.emit()\n"},"id":"1300","type":"CustomJS"},{"attributes":{},"id":"1417","type":"Selection"},{"attributes":{},"id":"1399","type":"Selection"},{"attributes":{"children":[{"id":"1265"}],"max_width":400,"sizing_mode":"stretch_width"},"id":"1313","type":"Row"}],"root_ids":["1436"]},"title":"Bokeh Application","version":"2.2.3"}}
        </script>
        <script type="text/javascript">
          (function() {
            var fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {
                    
                  var docs_json = document.getElementById('2841').textContent;
                  var render_items = [{"docid":"6dc16af1-ae0f-4873-b542-0af1066432b5","root_ids":["1436"],"roots":{"1436":"9ee00c29-8712-4bd6-bc11-7519c8d26991"}}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);
                
                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    var attempts = 0;
                    var timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        clearInterval(timer);
                        embed_document(root);
                      } else {
                        attempts++;
                        if (attempts > 100) {
                          clearInterval(timer);
                          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                        }
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != "loading") fn();
            else document.addEventListener("DOMContentLoaded", fn);
          })();
        </script>
    
  </body>
  
</html>